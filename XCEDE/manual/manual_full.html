<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>XCEDE 2.0 - A Manual</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="#id2755199" title="XCEDE 2.0 - A Manual"><link rel="next" href="#chapter.intro" title="Introduction"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="id2755199"></a>XCEDE 2.0 - A Manual</h1></div></div><hr></div><div class="toc"><dl><dt><span class="preface"><a href="#chapter.intro">Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#id2755240">Manual structure</a></span></dt><dt><span class="section"><a href="#id2755265">Development</a></span></dt><dt><span class="section"><a href="#id2755397">For More Information</a></span></dt></dl></dd><dt><span class="part"><a href="#part.spec">I. XCEDE 2 Core Specification</a></span></dt><dd><dl><dt><span class="chapter"><a href="#chapter.structure">1. Structure and Conventions</a></span></dt><dd><dl><dt><span class="section"><a href="#id2755448">The XCEDE 2 Dataset</a></span></dt><dt><span class="section"><a href="#id2755808">XCEDE 2 Schema conventions</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.hierarchy">2. Experiment Hierarchy</a></span></dt><dd><dl><dt><span class="section"><a href="#id2756099">Overview</a></span></dt><dt><span class="section"><a href="#id2756410">Examples</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.binary_data_resource">3. Binary Data Resources</a></span></dt><dd><dl><dt><span class="section"><a href="#id2756497">Overview</a></span></dt><dt><span class="section"><a href="#id2756678">Examples</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.catalog">4. Catalogs</a></span></dt><dd><dl><dt><span class="section"><a href="#id2757574">Overview</a></span></dt><dt><span class="section"><a href="#id2757652">Examples</a></span></dt><dt><span class="section"><a href="#id2757670">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.provenance">5. Provenance</a></span></dt><dd><dl><dt><span class="section"><a href="#id2757708">Overview</a></span></dt><dt><span class="section"><a href="#id2758048">Examples</a></span></dt><dt><span class="section"><a href="#id2758073">Generating provenance XML from applications</a></span></dt><dt><span class="section"><a href="#id2758138">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.events">6. Events</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758176">Overview</a></span></dt><dt><span class="section"><a href="#id2758414">Examples</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.protocol">7. Protocols</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758558">Overview</a></span></dt><dt><span class="section"><a href="#id2758647">Examples</a></span></dt><dt><span class="section"><a href="#id2758653">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.assessment">8. Assessments</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758668">Overview</a></span></dt><dt><span class="section"><a href="#id2758820">Examples</a></span></dt><dt><span class="section"><a href="#id2758903">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.analysis">9. Analysis</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758893">Overview</a></span></dt><dt><span class="section"><a href="#id2759028">Measurement Group</a></span></dt><dt><span class="section"><a href="#id2759137">Examples</a></span></dt><dt><span class="section"><a href="#id2759144">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.terminology">10. Terminology</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759346">Overview</a></span></dt><dt><span class="section"><a href="#id2759388">Examples</a></span></dt><dt><span class="section"><a href="#id2759442">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.annotation">11. Comments and Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759516">Overview</a></span></dt><dt><span class="section"><a href="#id2759523">Examples</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="#part.use">II. Using and Extending XCEDE 2</a></span></dt><dd><dl><dt><span class="chapter"><a href="#chapter.usecase">12. A Use Case</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759568">Overview</a></span></dt><dt><span class="section"><a href="#id2759574">Examples</a></span></dt><dt><span class="section"><a href="#id2759581">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.extending">13. Extending the Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759596">Overview</a></span></dt><dt><span class="section"><a href="#id2759603">Examples</a></span></dt><dt><span class="section"><a href="#id2759609">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.integrating">14. Integration With Applications and Services</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759625">Overview</a></span></dt><dt><span class="section"><a href="#id2759632">Examples</a></span></dt><dt><span class="section"><a href="#id2759638">Reference</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="#appendix.schema">A. XML Schema for XCEDE 2.0</a></span></dt><dt><span class="bibliography"><a href="#id2760883">Bibliography</a></span></dt></dl></div><div class="preface" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.intro"></a>Introduction</h2></div></div></div><p>This is a manual for version 2 of XCEDE (XML-based Clinical and Experimental Data Exchange).  XCEDE 2 is an extensible schema designed to enable the transfer and storage of several types of scientific data and metadata including (but not limited to) clinical, demographic, behavioral, physiological and image data.  The target audience for this manual is anyone who is interested in using or learning more about XCEDE 2.  This manual will serve as both a tutorial and as a reference.</p><p>Though the schema was designed in the context of neuroscientific projects, the structure of the schema is quite generic and can be applied as is to a wide variety of scientific disciplines.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2755240"></a>Manual structure</h2></div></div></div><p>This manual has two parts.  <a class="xref" href="#part.spec" title="Part I. XCEDE 2 Core Specification">Part I, &#8220;XCEDE 2 Core Specification&#8221;</a> describes the various components of XCEDE 2 and describes the specification in some detail.  <a class="xref" href="#part.use" title="Part II. Using and Extending XCEDE 2">Part II, &#8220;Using and Extending XCEDE 2&#8221;</a> is a more practical guide to the use of XCEDE 2, providing guidance to those users who wish to extend the schema to represent project-specific metadata, or integrate XCEDE 2 into software applications and services.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2755265"></a>Development</h2></div></div></div><p>XCEDE 2 development started as an effort to &#8220;<span class="quote">harmonize</span>&#8221; the uses of XML within the testbeds of the Biomedical Informatics Research Network [<a class="citation" href="#id2760885"><span class="citation">BIRN</span></a>] and their collaborators within the neuroscientific community.  The feedback from these discussion sessions led to an initial prototype (based on XCEDE 1.0) of a next-generation schema.  Over the course of four months of daily teleconferences, the first public release of XCEDE 2 took form.</p><p>XCEDE 2 has its origins in various XML schemas developed for collaborative neuroinformatics projects, including:</p><div class="variablelist"><dl><dt><span class="term">fMRI Data Center schema</span></dt><dd><p>a general scientific metadata storage framework.</p></dd><dt><span class="term">XNAT (Extensible Neuroimaging Toolkit)</span></dt><dd><p>database and web service designed to facilitate management and exploration of neuroimaging and related data.</p></dd><dt><span class="term">BIAC XML Header schema</span></dt><dd><p>provides a format-agnostic interface to image data and is the basis for the <span class="emphasis"><em>binary data resource</em></span> in XCEDE 2.</p></dd><dt><span class="term">BIRN Data Provenance schema</span></dt><dd><p>records the history of processing steps and is the basis for the <code class="literal">&lt;provenance&gt;</code> element in the schema</p></dd><dt><span class="term">XCEDE (1.0) SPM Toolbox</span></dt><dd><p>provides a general framework (and MATLAB interface) for storage and retrieval of thresholded statistical parametric maps and associated anatomical labels.</p></dd></dl></div><p>The primary developers of XCEDE 2 are (in alphabetical order): Syam Gadde (Duke University), Jeff Grethe (University of California, San Diego), Dave Keator (University of California, Irvine), and Dan Marcus (Washington University, St. Louis), all of whom have received support for this project through various BIRN testbeds.  Nicole Aucoin (Brigham &amp; Women's Hospital, Harvard University) led the development of the Data Provenance schema.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2755397"></a>For More Information</h2></div></div></div><p>XCEDE is an evolving format -- later versions will be informed by feedback from users and developers.  The latest schema and related information can be found on the project's web page at <a class="ulink" href="http://www.xcede.org/" target="_top">http://www.xcede.org/</a>.</p></div></div><div class="part" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="part.spec"></a>Part I. XCEDE 2 Core Specification</h1></div></div></div><div class="partintro" lang="en"><div></div><p>This section of the XCEDE 2.0 manual focuses on the high-level structure and major components of the XCEDE 2 Core schema.  Each chapter contains a description of the component and provides examples of usage.  The examples in this section are largely drawn from neuroscientific metadata, as this data served as the driving force behind development.  However, these examples are by no means comprehensive; the schema was designed to be generally applicable (and extensible) to many types of scientific data, and this manual by necessity focuses on only a few.</p><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#chapter.structure">1. Structure and Conventions</a></span></dt><dd><dl><dt><span class="section"><a href="#id2755448">The XCEDE 2 Dataset</a></span></dt><dt><span class="section"><a href="#id2755808">XCEDE 2 Schema conventions</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.hierarchy">2. Experiment Hierarchy</a></span></dt><dd><dl><dt><span class="section"><a href="#id2756099">Overview</a></span></dt><dt><span class="section"><a href="#id2756410">Examples</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.binary_data_resource">3. Binary Data Resources</a></span></dt><dd><dl><dt><span class="section"><a href="#id2756497">Overview</a></span></dt><dt><span class="section"><a href="#id2756678">Examples</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.catalog">4. Catalogs</a></span></dt><dd><dl><dt><span class="section"><a href="#id2757574">Overview</a></span></dt><dt><span class="section"><a href="#id2757652">Examples</a></span></dt><dt><span class="section"><a href="#id2757670">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.provenance">5. Provenance</a></span></dt><dd><dl><dt><span class="section"><a href="#id2757708">Overview</a></span></dt><dt><span class="section"><a href="#id2758048">Examples</a></span></dt><dt><span class="section"><a href="#id2758073">Generating provenance XML from applications</a></span></dt><dt><span class="section"><a href="#id2758138">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.events">6. Events</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758176">Overview</a></span></dt><dt><span class="section"><a href="#id2758414">Examples</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.protocol">7. Protocols</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758558">Overview</a></span></dt><dt><span class="section"><a href="#id2758647">Examples</a></span></dt><dt><span class="section"><a href="#id2758653">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.assessment">8. Assessments</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758668">Overview</a></span></dt><dt><span class="section"><a href="#id2758820">Examples</a></span></dt><dt><span class="section"><a href="#id2758903">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.analysis">9. Analysis</a></span></dt><dd><dl><dt><span class="section"><a href="#id2758893">Overview</a></span></dt><dt><span class="section"><a href="#id2759028">Measurement Group</a></span></dt><dt><span class="section"><a href="#id2759137">Examples</a></span></dt><dt><span class="section"><a href="#id2759144">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.terminology">10. Terminology</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759346">Overview</a></span></dt><dt><span class="section"><a href="#id2759388">Examples</a></span></dt><dt><span class="section"><a href="#id2759442">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.annotation">11. Comments and Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759516">Overview</a></span></dt><dt><span class="section"><a href="#id2759523">Examples</a></span></dt></dl></dd></dl></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.structure"></a>Chapter 1. Structure and Conventions</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2755448"></a>The XCEDE 2 Dataset</h2></div></div></div><p>An XCEDE 2 dataset is a data repository (stored in files, databases, or using other storage mechanisms) that can be represented as a collection of one or more XML documents, each of which validates against the XCEDE 2 XML schema (<a class="xref" href="#appendix.schema" title="Appendix A. XML Schema for XCEDE 2.0">Appendix A, <i>XML Schema for XCEDE 2.0</i></a>).  The XCEDE 2 specification does not prescribe any particular mechanism by which these documents are located, stored, grouped, or linked, though XCEDE 2 allows certain XML elements to link to other target elements and to optionally specify URLs as hints as to the location of the documents containing these targets.</p><p>For example, a given XCEDE 2 dataset may be stored as a single XML document, or a collection of files in a single directory on a file system, or may be distributed within a hierarchical directory structure (which may or may not reflect the structure of the data within), or may be stored within a database accessible by query through a web interface.  The semantics of the dataset should be fully reflected in the XML representation, and should not be dependent on how the dataset is stored.</p><p>A schema-compliant XCEDE 2 document must be a valid XML 1.0 document [<a class="citation" href="#id2760950"><span class="citation">XML10</span></a>], and must have one root element, <code class="literal">&lt;XCEDE&gt;</code>, which (like all other XCEDE 2 elements) is in the <code class="literal">http://www.xcede.org/xcede-2</code> XML namespace.</p><p>Several major components of the XCEDE 2 dataset are represented as children of the XCEDE root element.  These components include:</p><div class="itemizedlist"><ul type="disc"><li><p><b>Experiment hierarchy. </b>The components in the experiment hierarchy are represented by elements <code class="literal">&lt;project&gt;</code>, <code class="literal">&lt;subject&gt;</code>, <code class="literal">&lt;visit&gt;</code>, <code class="literal">&lt;study&gt;</code>, <code class="literal">&lt;episode&gt;</code>, <code class="literal">&lt;acquisition&gt;</code>.  These are described in more detail in <a class="xref" href="#chapter.hierarchy" title="Chapter 2. Experiment Hierarchy">Chapter 2, <i>Experiment Hierarchy</i></a>.</p></li><li><p><b>Data. </b>The element <code class="literal">&lt;data&gt;</code> is used to store actual data within the XML document.  Examples include <span class="emphasis"><em>events</em></span> (<a class="xref" href="#chapter.events" title="Chapter 6. Events">Chapter 6, <i>Events</i></a>) and <span class="emphasis"><em>assessments</em></span> (<a class="xref" href="#chapter.assessment" title="Chapter 8. Assessments">Chapter 8, <i>Assessments</i></a>).</p></li><li><p><b>Data resources. </b>Represented by the element <code class="literal">&lt;resource&gt;</code>, these point to external files which store actual data.  See <a class="xref" href="#chapter.binary_data_resource" title="Chapter 3. Binary Data Resources">Chapter 3, <i>Binary Data Resources</i></a>.</p></li><li><p><b>Analyses. </b>The <code class="literal">&lt;analysis&gt;</code> element encapsulates metadata about data that is derived from one or more inputs, whose data may be represented by other XCEDE components, such as <code class="literal">&lt;data&gt;</code> or <span class="emphasis"><em>data resources</em></span>.  See <a class="xref" href="#chapter.analysis" title="Chapter 9. Analysis">Chapter 9, <i>Analysis</i></a>.</p></li><li><p><b>Protocols. </b>Structures to describe the expected course of an experimental paradigm are provided by the <code class="literal">&lt;protocol&gt;</code> element.  See <a class="xref" href="#chapter.protocol" title="Chapter 7. Protocols">Chapter 7, <i>Protocols</i></a>.</p></li></ul></div><p>Other XCEDE components appear as subcomponents of other XCEDE structures:</p><div class="itemizedlist"><ul type="disc"><li><p><b>Data provenance. </b>The <code class="literal">&lt;provenance&gt;</code> element appears in the types <span class="type">analysis_t</span> (on which the <code class="literal">&lt;analysis&gt;</code> element is based) and <span class="type">dataResource_t</span> (one of the available data models for the top-level <code class="literal">&lt;resource&gt;</code> element).  See <a class="xref" href="#chapter.provenance" title="Chapter 5. Provenance">Chapter 5, <i>Provenance</i></a>.</p></li></ul></div><div class="itemizedlist"><ul type="disc"><li><p><b>Comments and annotations. </b>The <code class="literal">&lt;commentList&gt;</code> and <code class="literal">&lt;annotationList&gt;</code> elements provide mechanisms to store, respectively, descriptive text regarding the real-world entities or concepts represented by the associated XML element, or about the stored XML element itself.  These are available in all elements based on <span class="type">abstract_container_t</span>, which includes all the hierarchy elements and <code class="literal">&lt;analysis&gt;</code>.</p></li><li><p><b>Informational resources. </b>These point to documentation that may illuminate aspects of the data, data collection, protocol, etc. -- these might include peer-reviewed publications, equipment manuals, and others.  Informational resources are represented in the type <span class="type">informationResource_t</span> which is used in the <code class="literal">&lt;resourceList&gt;</code> element in <span class="type">abstract_container_t</span> (as with the comments and annotations).</p></li><li><p><b>Terminology. </b>Various elements in XCEDE 2 include the attribute group <span class="type">terminology_ag</span> or use the type <code class="literal">terminologyString</code>, which allow the user to associate them with terms from particular nomenclatures/ontologies.  For example, a subject's <code class="literal">&lt;species&gt;</code> may refer to a standard term listed in a well-known public nomenclature.  See <a class="xref" href="#chapter.terminology" title="Chapter 10. Terminology">Chapter 10, <i>Terminology</i></a>.</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2755808"></a>XCEDE 2 Schema conventions</h2></div></div></div><p>The XCEDE XML document structure is defined using W3C XML Schema language [<a class="citation" href="#id2761033"><span class="citation">XMLSchema10</span></a>].  With a few exceptions, the XCEDE 2 XML schema subscribes to the following conventions and best practices.</p><p><b>Naming and capitalization. </b></p><div class="itemizedlist"><ul type="disc"><li><p>Element and attribute names are alphanumeric (<code class="literal">&lt;project&gt;</code>).  All letters are lowercase, with the exception of acronyms, which are uppercase (<code class="literal">&lt;XCEDE&gt;</code>, <code class="literal">projectID</code>), and, in multi-word names, the initial letters of the second and following words which are capitalized (<code class="literal">&lt;dataResourceRef&gt;</code>).  For the purposes of this rule, <code class="literal">ID</code> (for &#8220;<span class="quote">identifier</span>&#8221;) is considered an acronym.</p></li><li><p>Schema type names (which do not appear in XML instance documents except in <code class="literal">xsi:type</code> attributes) follow the same naming conventions as element and attribute names, but have the <code class="literal">_t</code> suffix (<span class="type">analysis_t</span>).  If the type is &#8220;<span class="quote">abstract</span>&#8221;, then it has an <code class="literal">abstract_</code> prefix (<span class="type">abstract_container_t</span>).</p></li><li><p>Attribute group names (which do not appear in XML instance documents) follow the same naming conventions as element and attribute names, but have the <code class="literal">_ag</code> suffix (<span class="type">allLevelExternalIDs_ag</span>).</p></li></ul></div><p><b>Schema best practices. </b></p><div class="itemizedlist"><ul type="disc"><li><p>Follow the schema versioning best practices recommended by Roger Costello in [<a class="citation" href="#id2760905"><span class="citation">CostelloSchemaVersioning</span></a>].  Some of the implications are listed below:</p><div class="itemizedlist"><ul type="circle"><li><p>The XCEDE namespace will change for major versions, but not minor versions. So, the namespace is as follows: <code class="literal">http://www.xcede.org/xcede-major_version</code>. For example: <code class="literal">http://www.xcede.org/xcede-2</code></p></li><li><p>XSD files will be named <code class="literal">xcede-<span class="emphasis"><em>VERSION</em></span>-<span class="emphasis"><em>DOMAIN</em></span></code>. For example: <code class="literal">xcede-2.0-core.xsd</code></p></li><li><p>All elements should have a corresponding named <code class="literal">complexType</code>. For example: <code class="literal">&lt;project&gt;</code> is of type <span class="type">project_t</span>.</p></li><li><p>The schema prescribes that some elements precede or follow other elements -- document creators should follow this strictly.  However, applications should be written without expecting a particular element order, in case later versions of the schema change the order of elements.  That is, be conservative in what you write, but liberal in what you accept.</p><p>This is not to say that element order is not important -- the relative order of multiple elements with the same name should be preserved and can be relied upon by applications.  So, if the schema specifies the content model of an element to have multiple <code class="literal">&lt;A&gt;</code> children and then multiple <code class="literal">&lt;B&gt;</code> children, applications should treat a dataset the same whether all the <code class="literal">&lt;A&gt;</code> children came before or after (or even interleaved with) the <code class="literal">&lt;B&gt;</code> elements, but all <code class="literal">&lt;A&gt;</code> elements should be presented to the application in the same order they appear in the document.  The corollary is that the semantics of any XCEDE 2 element must not depend on the order in which differently-named children are presented in the document.</p></li></ul></div></li></ul></div><p><b>Document validation. </b></p><div class="itemizedlist"><ul type="disc"><li><p>The structure of an XCEDE 2 document can be validated using the XCEDE 2 Core schema.  Several XML Schema validators are available to perform this task.  Validating against the schema will ensure that generic XCEDE 2 parsers can read the document.</p><p>Users may wish to perform <span class="emphasis"><em>content-based</em></span> validation of an XCEDE document, for example, to make sure that &#8220;<span class="quote">MR</span>&#8221; image metadata stored in an XCEDE document have certain required fields such as TR, TE, magnet field strength, etc., and that their values fall within reasonable ranges.  This kind of validation is not possible using XML Schema.  However, other content-based schema languages exist for this purpose, most notably Schematron [<a class="citation" href="#id2760925"><span class="citation">Schematron</span></a>].  As long as the XCEDE 2 Core schema is structurally sufficient to represent data for a given project or type of data, using a content-based schema language such as Schematron allows users to restrict or &#8220;<span class="quote">specialize</span>&#8221; the content of XCEDE documents without needing to modify or extend from the XCEDE 2 Core schema itself.</p></li></ul></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.hierarchy"></a>Chapter 2. Experiment Hierarchy</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2756099"></a>Overview</h2></div></div></div><p>As illustrated in <a class="xref" href="#hierarchy.levels" title="Figure 2.1. XCEDE hierarchy">Figure 2.1, &#8220;XCEDE hierarchy&#8221;</a>, the XCEDE experiment hierarchy consists of several <span class="emphasis"><em>levels</em></span> representing divisions of experiment data at various granularities.  Elements at each level contain level-specific &#8220;<span class="quote">info</span>&#8221; elements, whose schema types may be derived to store experiment-specific or data modality-specific metadata.  The linking mechanism between levels is flexible enough to support the omission of levels if the schema user finds them unnecessary.</p><div class="figure"><a name="hierarchy.levels"></a><p class="title"><b>Figure 2.1. XCEDE hierarchy</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/hierarchy_levels.png" alt="XCEDE hierarchy"></div></div></div><br class="figure-break"><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2756162"></a>Hierarchy Levels</h3></div></div></div><p>In the typical intended usage, a <span class="emphasis"><em>project</em></span> is the top-level division of experiment data, and represents a research project which collects and analyzes data from one or more <span class="emphasis"><em>subjects</em></span> which are divided (within the project) into <span class="emphasis"><em>subject groups</em></span>.  A subject may be a member of multiple research projects, and it is the subject group that maintains and distinguishes the mappings between subjects and research projects.</p><p>A <span class="emphasis"><em>visit</em></span> may represent a subject's appearance at an experiment &#8220;<span class="quote">site</span>&#8221; (for collaborative projects, this could be the institution or lab at which the data is being collected or analyzed).  A visit may be further subdivided into one or more <span class="emphasis"><em>studies</em></span>, each of would consist of one or more data collection <span class="emphasis"><em>episodes</em></span>.</p><p>Visit and study are more or less arbitrary divisions of the data that exist for convenience, and do not in themselves have any inherent meaning as far as the schema is concerned.  However, an <span class="emphasis"><em>episode</em></span> does have a meaning, and is intended to represent a unit of data collection by one or more instruments over a given time interval.  Each set of data collected (perhaps by different instruments) over this time interval should be represented by an <span class="emphasis"><em>acquisition</em></span>.  Multiple acquisitions within an episode should be understood to occur simultaneously over the time interval represented by the episode.  So, for example, an episode in an fMRI study may encapsulate the acquisition of a time-series of volume images from an MR scanner, as well as other acquisitions of behavioral or physiological data; all these (simultaneously collected) data would be stored as individual acquisitions and stored as part of the same episode.</p><p>At first thought, it might seem natural to represent the experiment hierarchy as described as a traditional XML hierarchy, where higher-level elements encapsulate lower-level elements as child elements.  However, in XCEDE, all level elements (<code class="literal">&lt;project&gt;</code>, <code class="literal">&lt;visit&gt;</code>, etc.) are stored as children of the root <code class="literal">&lt;XCEDE&gt;</code> element.   Links between levels are implicit in the level IDs assigned to each element and propagated to elements in lower levels.  The great benefit of this approach is that applications are easier to write because all major elements are stored in the same place (under the XCEDE root element), and that XCEDE documents can be merged by merely concatenating the lists of top-level elements under a single XCEDE root element.  Another advantage is to allow users of the schema to omit levels merely by omitting the unnecessary elements and IDs/links.  </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2756270"></a>IDs and Linking</h3></div></div></div><p>Specifying one or more <span class="emphasis"><em>level IDs</em></span> allows one to explicitly define the hierarchical relations between XCEDE elements in different levels in the experiment hierarchy.  Every level element has a set of these level IDs, composed of the element's own <code class="literal">ID</code> attribute, plus its &#8220;<span class="quote">ancestor</span>&#8221; ID attributes, indicating which higher-level elements have this element in their scope.  For example, the <code class="literal">&lt;visit&gt;</code> element contains the ancestor ID attributes <code class="literal">subjectGroupID</code>, <code class="literal">subjectID</code>, and <code class="literal">projectID</code>.  Level elements are linked to their ancestors in the hierarchy by sharing the appropriate subset of level IDs.  In addition, any level element can linked from another XCEDE element that likewise specifies the appropriate level IDs.</p><p>For example, a link to a visit element may specify <code class="literal">visitID</code>, <code class="literal">subjectID</code>, <code class="literal">subjectGroupID</code>, and <code class="literal">projectID</code> attributes, and a <code class="literal">level</code> attribute with the value <code class="literal">visit</code>, indicating that this link is to a visit element.  An application resolving this link will search for a visit element in the XCEDE 2 dataset whose attributes match those specified in the link (the <code class="literal">visitID</code> attribute in the link is matched against the <code class="literal">ID</code> attribute in the visit element).</p><p>Though the individual <code class="literal">ID</code> attributes are not required to be unique, the <span class="emphasis"><em>set</em></span> of these level IDs applied to a level element must be unique.  In addition, any link to a level element must provide enough level IDs to uniquely describe a single target level element.  Level ID attributes not specified in the link are understood to match any value, but a link must specify enough of these IDs match at most one level element.</p><p>The elements that can link to level elements are <code class="literal">&lt;catalog&gt;</code>, <code class="literal">&lt;resource&gt;</code>, and <code class="literal">&lt;data&gt;</code> (children of the <code class="literal">&lt;XCEDE&gt;</code> root element), and <code class="literal">&lt;inputRef&gt;</code> and <code class="literal">&lt;outputRef&gt;</code> (children of the <code class="literal">&lt;analysis&gt;</code> element).  As previously described, level elements (except for <code class="literal">&lt;project&gt;</code> and <code class="literal">&lt;subject&gt;</code>, which are at the top of the experiment hierarchy), by virtue of specifying their own ancestor IDs, automatically incorporate links to their ancestor elements.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2756410"></a>Examples</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2756416"></a>Metadata hierarchy</h3></div></div></div><p>The metadata hierarchy illustrated in <a class="xref" href="#hierarchy.levels" title="Figure 2.1. XCEDE hierarchy">Figure 2.1, &#8220;XCEDE hierarchy&#8221;</a> can be represented in XCEDE as shown in <a class="xref" href="#hierarchy.example_instance" title="Figure 2.2. Metadata hierarchy instance">Figure 2.2, &#8220;Metadata hierarchy instance&#8221;</a> (only those elements/attributes relevant to linking are shown; the actual metadata contents of the elements are omitted for space).  Note that subject &#8220;<span class="quote">1</span>&#8221; in the illustration is represented in two different projects, and so the corresponding <code class="literal">&lt;subject&gt;</code> element may be an ancestor for visits in both project &#8220;<span class="quote">A</span>&#8221; and &#8220;<span class="quote">B</span>&#8221;.  However, the subject's role in each project is specified by the combination of the <span class="emphasis"><em>project ID</em></span> and <span class="emphasis"><em>subject group ID</em></span> (defined in the subject group lists in <code class="literal">&lt;project&gt;</code>), and these are used in every level element starting with <code class="literal">&lt;visit&gt;</code> and below.</p></div><div class="figure"><a name="hierarchy.example_instance"></a><p class="title"><b>Figure 2.2. Metadata hierarchy instance</b></p><div class="figure-contents"><pre class="programlisting">&lt;XCEDE xmlns="http://www.xcede.org/xcede-2"&gt;
  &lt;project ID="A"&gt;
    &lt;projectInfo&gt;
      &lt;subjectGroupList&gt;
        &lt;subjectGroup ID="X"&gt;
          &lt;subjectID&gt;1&lt;/subjectID&gt;
          &lt;subjectID&gt;2&lt;/subjectID&gt;
        &lt;/subjectGroup&gt;
      &lt;/subjectGroupList&gt;
    &lt;/projectInfo&gt;
  &lt;/project&gt;
  &lt;project ID="B"&gt;
    &lt;projectInfo&gt;
      &lt;subjectGroupList&gt;
        &lt;subjectGroup ID="Z"&gt;
          &lt;subjectID&gt;3&lt;/subjectID&gt;
        &lt;/subjectGroup&gt;
      &lt;/subjectGroupList&gt;
    &lt;/projectInfo&gt;
  &lt;/project&gt;
  &lt;subject ID="1" /&gt;
  &lt;subject ID="2" /&gt;
  &lt;subject ID="3" /&gt;
  &lt;visit ID="1"
         projectID="A" subjectID="1" subjectGroupID="X" /&gt;
  &lt;study ID="MR scan"
         projectID="A" subjectID="1" subjectGroupID="X" visitID="1" /&gt;
  &lt;episode ID="task run 1"
         projectID="A" subjectID="1" subjectGroupID="X" visitID="1" studyID="MR" /&gt;
  &lt;acquisition ID="MR image"
         projectID="A" subjectID="1" subjectGroupID="X" visitID="1" studyID="MR"
         episodeID="task run 1" /&gt;
  &lt;acquisition ID="behavioral data"
         projectID="A" subjectID="1" subjectGroupID="X" visitID="1" studyID="MR"
         episodeID="task run 1" /&gt;
  &lt;acquisition ID="heart rate"
         projectID="A" subjectID="1" subjectGroupID="X" visitID="1" studyID="MR"
         episodeID="task run 1" /&gt;
  &lt;study ID="Clinical interview"
         projectID="A" subjectID="1" subjectGroupID="X" visitID="2" /&gt;
  &lt;!-- ... etc. ... --&gt;
&lt;/XCEDE&gt;
</pre></div></div><br class="figure-break"><p></p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.binary_data_resource"></a>Chapter 3. Binary Data Resources</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2756497"></a>Overview</h2></div></div></div><p>The XCEDE 2 <span class="emphasis"><em>Binary Data Resource</em></span> component is used to provide a generic interface to a binary data stream stored in one or more external files.  Any of the binary data resource types described in this chapter can be used anywhere an <span class="type">abstract_resource_t</span> is called for (with the appropriate <code class="literal">xsi:type</code> attribute); in the current XCEDE schema, these locations are the top-level <code class="literal">&lt;resource&gt;</code> element and the <code class="literal">&lt;dataResource&gt;</code> child element of <code class="literal">&lt;acquisition&gt;</code>.</p><p>XCEDE provides multiple layers of derived types to store more specialized information about the binary data.  The base type and each of the derived types are described in turn.</p><p><b><span class="type">abstract_resource_t</span>. </b>The abstract base type <span class="type">abstract_resource_t</span> provides a few elements and attributes that are especially important for binary data resources.  In particular, the <code class="literal">&lt;uri&gt;</code> element and its <code class="literal">offset</code> and <code class="literal">size</code> attributes point to a &#8220;<span class="quote">chunk</span>&#8221; of data stored in an external file.  A series of <code class="literal">&lt;uri&gt;</code> elements define a stream of data that may be described in greater detail by the data types described below.</p><p><b><span class="type">binaryDataResource_t</span>. </b>This type derives from <span class="type">abstract_resource_t</span> and allows an application to interpret the data stream as a sequence of data items with a given data type (<code class="literal">&lt;elementType&gt;</code>) and byte order (<code class="literal">&lt;byteOrder&gt;</code>).</p><p><b><span class="type">dimensionedBinaryDataResource_t</span>. </b>The data stream, until now, could only be interpreted as a one-dimensional sequence.  This type provides <code class="literal">&lt;dimension&gt;</code> elements that allow the data stream to be interpreted as a multi-dimensional array of data items.  Each dimension has a <code class="literal">&lt;size&gt;</code> and a <code class="literal">&lt;label&gt;</code>, as well as the ability to discard subsets of the data in the data stream (using the <code class="literal">outputSelect</code> attribute).</p><p><b><span class="type">mappedBinaryDataResource_t</span>. </b>This type places the multi-dimensional array of data items represented by <span class="type">dimensionedBinaryDataResource_t</span> into an arbitrary coordinate system.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2756678"></a>Examples</h2></div></div></div><p>Several examples of binary data are presented here, each showing the use of one of the different binary data types described in this chapter.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2756689"></a>Basic data stream</h3></div></div></div><p>The basic binary data resource type describes a sequence of data items.  For example, consider a data file (<code class="literal">random_data_file.bin</code>) containing 2048 random 32-bit floating point numbers, stored in little-endian (least-significant-byte first) order.  The <code class="literal">&lt;dataResource&gt;</code> describing this data is shown in <a class="xref" href="#binary_data_resource.simple_example" title="Figure 3.1. Simple binaryDataResource_t example">Figure 3.1, &#8220;Simple <span class="type">binaryDataResource_t</span> example&#8221;</a>.</p><div class="figure"><a name="binary_data_resource.simple_example"></a><p class="title"><b>Figure 3.1. Simple <span class="type">binaryDataResource_t</span> example</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="binaryDataResource_t"&gt;
  &lt;uri offset="0" size="8192"&gt;random_data_file.bin&lt;/uri&gt;
  &lt;elementType&gt;float32&lt;/elementType&gt;
  &lt;byteOrder&gt;lsbfirst&lt;/byteOrder&gt;
&lt;/dataResource&gt;</pre></div></div><br class="figure-break"><p>Note the <code class="literal">xsi:type</code> specifying that this <code class="literal">&lt;dataResource&gt;</code> element is of type <span class="type">binaryDataResource_t</span>.  (The <code class="literal">xsi:</code> prefix should have already been declared previously in the XML file using something similar to <code class="literal">xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code>)</p><p>The <code class="literal">&lt;elementType&gt;</code> element is restricted to one of several pre-defined strings (see the schema for details).  The <code class="literal">&lt;byteOrder&gt;</code> element must be <code class="literal">lsbfirst</code> for little-endian data or <code class="literal">msbfirst</code> for big-endian data.</p><p>If the <code class="literal">&lt;compression&gt;</code> element is specified, it specifies that the file(s) pointed to by the <code class="literal">&lt;uri&gt;</code> elements are compressed.  The content of the element should specify which type of compression (the only compression method specifically recognized by this specification is <code class="literal">gzip</code>).  The <code class="literal">size</code> and <code class="literal">offset</code> attributes in the <code class="literal">&lt;uri&gt;</code> element always refer to the <span class="emphasis"><em>uncompressed</em></span> data.  An example of this is shown in <a class="xref" href="#binary_data_resource.gzip_example" title="Figure 3.2. binaryDataResource_t with compression">Figure 3.2, &#8220;<span class="type">binaryDataResource_t</span> with compression&#8221;</a>.</p><div class="figure"><a name="binary_data_resource.gzip_example"></a><p class="title"><b>Figure 3.2. <span class="type">binaryDataResource_t</span> with compression</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="binaryDataResource_t"&gt;
  &lt;uri offset="0" size="8192"&gt;random_data_file.bin.gz&lt;/uri&gt;
  &lt;elementType&gt;float32&lt;/elementType&gt;
  &lt;byteOrder&gt;lsbfirst&lt;/byteOrder&gt;
  &lt;compression&gt;gzip&lt;/compression&gt;
&lt;/dataResource&gt;</pre></div></div><br class="figure-break"><p>As a special case, if the application does not find the file pointed to by a URI, and the <code class="literal">&lt;compression&gt;</code> element is <span class="emphasis"><em>not</em></span> present, it may search for the same file with an appended <code class="literal">.gz</code> suffix, and if it exists, treat it as implicitly gzip-compressed data.  <a class="xref" href="#binary_data_resource.implicit_gzip_example" title="Figure 3.3. binaryDataResource_t with implicit compression">Figure 3.3, &#8220;<span class="type">binaryDataResource_t</span> with implicit compression&#8221;</a> shows how the same data in <a class="xref" href="#binary_data_resource.gzip_example" title="Figure 3.2. binaryDataResource_t with compression">Figure 3.2, &#8220;<span class="type">binaryDataResource_t</span> with compression&#8221;</a> could be expressed using this alternative method.  Pointing to the uncompressed version of the file (even when only the compressed version exists) allows the user to decompress or compress the data file at will, without affecting the ability of the application to read the data using the same <span class="type">binaryDataResource_t</span>.  Note that the <code class="literal">&lt;uri&gt;</code> and <code class="literal">&lt;compression&gt;</code> elements must be internally consistent.  It would be an error to reference the uncompressed file <code class="literal">random_data_file.bin</code> and yet say that it was compressed using <code class="literal">&lt;compression&gt;gzip&lt;/compression&gt;</code>.  Likewise, explicit references to the compressed file (especially files that do not have the <code class="literal">.gz</code> suffix) must specify the compression method explicitly using the <code class="literal">compression</code> element.</p><div class="figure"><a name="binary_data_resource.implicit_gzip_example"></a><p class="title"><b>Figure 3.3. <span class="type">binaryDataResource_t</span> with implicit compression</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="binaryDataResource_t"&gt;
  &lt;uri offset="0" size="8192"&gt;random_data_file.bin&lt;/uri&gt;
  &lt;elementType&gt;float32&lt;/elementType&gt;
  &lt;byteOrder&gt;lsbfirst&lt;/byteOrder&gt;
&lt;/dataResource&gt;</pre></div></div><br class="figure-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2756920"></a>Dimensioned data</h3></div></div></div><p>Consider a camera that acquires an image using a 256x256 matrix of big-endian 32-bit signed integer voxels.  This data has two spatial dimensions, which, by convention, we label x, and y (and z if a third spatial dimension is needed, and t if there is a time dimension).  <a class="xref" href="#binary_data_resource.dimension_example" title="Figure 3.4. dimensionedBinaryDataResource_t example">Figure 3.4, &#8220;<span class="type">dimensionedBinaryDataResource_t</span> example&#8221;</a> shows how this data might be represented.</p><div class="figure"><a name="binary_data_resource.dimension_example"></a><p class="title"><b>Figure 3.4. <span class="type">dimensionedBinaryDataResource_t</span> example</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="dimensionedBinaryDataResource_t"&gt;
  &lt;uri offset="0" size="262144"&gt;rawdata.img&lt;/uri&gt;
  &lt;elementType&gt;int32&lt;/elementType&gt;
  &lt;byteOrder&gt;msbfirst&lt;/byteOrder&gt;
  &lt;dimension label="x"&gt;
    &lt;size&gt;256&lt;/size&gt;
  &lt;/dimension&gt;
  &lt;dimension label="y"&gt;
    &lt;size&gt;256&lt;/size&gt;
  &lt;/dimension&gt;
&lt;/dataResource&gt;</pre></div></div><br class="figure-break"><p>Dimensions are ordered from fastest-moving to slowest-moving.  So in the above example, the x dimension index changes on each consecutive data item, but the y dimension changes every 256 elements.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2756988"></a>Mapped data</h3></div></div></div><p>A &#8220;<span class="quote">mapped</span>&#8221; binary data resource is a (perhaps multidimensional) array of values, the matrix indices of which can be converted into a location in a given coordinate system.  The location of the bounding box of the data in this space is given by specifying a location (in target-space coordinates) for the the first data item, and two things for each dimension: a unit-length direction vector (in the target-space coordinate system) and the spacing between successive data items in that dimension.  The transformation matrix for a three-dimensional coordinate system has the form shown in <a class="xref" href="#binary_data_resource.matrix" title="Figure 3.5. Transformation matrix">Figure 3.5, &#8220;Transformation matrix&#8221;</a>.  This transformation matrix converts from matrix indices <code class="literal">(x,y,z)</code> to a coordinate location <code class="literal">(a,b,c)</code>.  <a class="xref" href="#binary_data_resource.map_example" title="Figure 3.6. mappedBinaryDataResource_t example">Figure 3.6, &#8220;<span class="type">mappedBinaryDataResource_t</span> example&#8221;</a> shows how the components of a transformation of MR image data into scanner RAS (Right/Anterior/Superior) coordinates are represented in a <span class="type">mappedBinaryDataResource_t</span>.  The unit vectors for each dimension are (X<sub>A</sub> X<sub>B</sub> X<sub>C</sub>) = (1 0 0), (Y<sub>A</sub> Y<sub>B</sub> Y<sub>C</sub>) = ( 0 1 0 ), and (Z<sub>A</sub> Z<sub>B</sub> Z<sub>C</sub>) = ( 0 0 1 ), and are placed in the <code class="literal">&lt;direction&gt;</code> elements in each <code class="literal">&lt;dimension&gt;</code> element.  The spacing values (S<sub>X</sub> S<sub>Y</sub> S<sub>Z</sub>) = ( 3.75mm 3.75mm 4mm ) are put in the <code class="literal">&lt;spacing&gt;</code> element in each <code class="literal">&lt;dimension&gt;</code>.  The coordinates of the first voxel in the data are given by (O<sub>A</sub> O<sub>B</sub> O<sub>C</sub>) = ( -120 -120 -52 ).</p><div class="figure"><a name="binary_data_resource.matrix"></a><p class="title"><b>Figure 3.5. Transformation matrix</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/binary_data_resource_tmatrix.png" alt="Transformation matrix"></div></div></div><br class="figure-break"><div class="figure"><a name="binary_data_resource.map_example"></a><p class="title"><b>Figure 3.6. <span class="type">mappedBinaryDataResource_t</span> example</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="mappedBinaryDataResource_t"&gt;
  &lt;uri offset="0" size="442368"&gt;V0001.img&lt;/uri&gt;
  &lt;uri offset="0" size="442368"&gt;V0002.img&lt;/uri&gt;
  &lt;uri offset="0" size="442368"&gt;V0003.img&lt;/uri&gt;
  &lt;uri offset="0" size="442368"&gt;V0004.img&lt;/uri&gt;
  &lt;uri offset="0" size="442368"&gt;V0005.img&lt;/uri&gt;
  &lt;!-- ... 135 more &lt;uri&gt; elements omitted for space ... --&gt;
  &lt;elementType&gt;int32&lt;/elementType&gt;
  &lt;byteOrder&gt;msbfirst&lt;/byteOrder&gt;
  &lt;dimension label="x"&gt;
    &lt;size&gt;64&lt;/size&gt;
    &lt;spacing&gt;3.75&lt;/spacing&gt;
    &lt;gap&gt;0&lt;/gap&gt;
    &lt;direction&gt;1 0 0&lt;/direction&gt;
    &lt;units&gt;mm&lt;/units&gt;
  &lt;/dimension&gt;
  &lt;dimension label="y"&gt;
    &lt;size&gt;64&lt;/size&gt;
    &lt;spacing&gt;3.75&lt;/spacing&gt;
    &lt;gap&gt;0&lt;/gap&gt;
    &lt;direction&gt;0 1 0&lt;/direction&gt;
    &lt;units&gt;mm&lt;/units&gt;
  &lt;/dimension&gt;
  &lt;dimension label="z"&gt;
    &lt;size&gt;27&lt;/size&gt;
    &lt;spacing&gt;4&lt;/spacing&gt;
    &lt;gap&gt;1&lt;/gap&gt;
    &lt;direction&gt;0 0 1&lt;/direction&gt;
    &lt;units&gt;mm&lt;/units&gt;
  &lt;/dimension&gt;
  &lt;dimension label="t"&gt;
    &lt;size&gt;140&lt;/size&gt;
    &lt;spacing&gt;2&lt;/spacing&gt;
    &lt;gap&gt;0&lt;/gap&gt;
    &lt;datapoints&gt;0 2 4 6 8&lt;/datapoints&gt;
    &lt;units&gt;sec&lt;/units&gt;
  &lt;/dimension&gt;
  &lt;originCoords&gt;-120 -120 -52&lt;/originCoords&gt;
&lt;/dataResource&gt;</pre></div></div><br class="figure-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2757319"></a>Advanced topic: split dimensions and outputSelect</h3></div></div></div><p>A more complicated example is given by data generated by a Siemens MR scanner.  In this case, the data represents a three-dimensional 64x64x32 image, stored in DICOM format.  However, because the earlier versions of the DICOM format did not support three-dimensional data in one file, Siemens came upon the clever idea to &#8220;<span class="quote">tile</span>&#8221; the 32 two-dimensional slices across an NxN two-dimensional grid (<a class="xref" href="#binary_data_resource.tile" title="Figure 3.7. A &#8220;tiled&#8221;image">Figure 3.7, &#8220;A &#8220;<span class="quote">tiled</span>&#8221;image&#8221;</a>).</p><div class="figure"><a name="binary_data_resource.tile"></a><p class="title"><b>Figure 3.7. A &#8220;<span class="quote">tiled</span>&#8221;image</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/binary_data_resource_tile.png" alt="A tiledimage"></div></div></div><br class="figure-break"><p>Applications may naturally want to express this data as a three-dimensional block, with columns, rows, and slices.  In a conventionally-stored three-dimensional X×Y×Z image, the first X voxels compose the first row in the first slice, and then the next X voxels are the second row in the first slice; likewise the first X*Y voxels are the first slice, and the next X*Y voxels are the second slice, and so on.  However, in the &#8220;<span class="quote">tiled</span>&#8221; image, though the first X voxels are again the first row in the first slice, the next X voxels are the first row in the second slice!  At first it would seem that the dimension order has merely been switched, and specifying the labels of the dimensions as x, z, and y would fix things.  However, we only hit six slices' first rows before hitting going to the second row of the same six slices.  Only after going through all the rows in this fashion in the first six slices do we go on to the next six slices.</p><p>The end result is that the dimension that we are calling the z dimension has been split in two.  The two components of the z dimension are interleaved with the x and y dimensions like so: x, z<sub>1</sub>, y, z<sub>2</sub>.  The two components of the z dimension are distinguished with the <code class="literal">splitRank</code> attribute, as shown in <a class="xref" href="#binary_data_resource.splitdim" title="Figure 3.8. Split dimension example">Figure 3.8, &#8220;Split dimension example&#8221;</a>.</p><div class="figure"><a name="binary_data_resource.splitdim"></a><p class="title"><b>Figure 3.8. Split dimension example</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="binaryDataResource_t"&gt;
  &lt;uri offset="9240" size="589824"&gt;img0001.dcm&lt;/uri&gt;
  &lt;elementType&gt;uint32&lt;/elementType&gt;
  &lt;byteOrder&gt;lsbfirst&lt;/byteOrder&gt;
  &lt;dimension label="x"&gt;
    &lt;size&gt;64&lt;/size&gt;
  &lt;/dimension&gt;
  &lt;dimension label="z" splitRank="1"&gt;
    &lt;size&gt;6&lt;/size&gt;
  &lt;/dimension&gt;
  &lt;dimension label="y"&gt;
    &lt;size&gt;64&lt;/size&gt;
  &lt;/dimension&gt;
  &lt;dimension label="z" splitRank="2"&gt;
    &lt;size&gt;6&lt;/size&gt;
  &lt;/dimension&gt;
&lt;/dataResource&gt;</pre></div></div><br class="figure-break"><p>Applications should read this data as if it were four dimensions, and then permute the data to bring the two z dimensions together (in the order specified by splitRank) in the position of the highest-ranked split dimension, and the two dimensions can then be merged into one.  The size of the new z dimension is the product of the sizes of the component split dimensions, so 6 * 6 = 36.</p><p>You may recall that the original data was acquired as a 64x64x32 volume, but the NxN tiling representation requires that the number of tiles be the square of an integer N.  One more mechanism has been added to the <code class="literal">&lt;dimension&gt;</code> element to accomodate the presence of data that should be disregarded: the <code class="literal">outputSelect</code> attribute (see <a class="xref" href="#binary_data_resource.outputSelect" title="Figure 3.9. outputSelect example">Figure 3.9, &#8220;<code class="literal">outputSelect</code> example&#8221;</a>).</p><div class="figure"><a name="binary_data_resource.outputSelect"></a><p class="title"><b>Figure 3.9. <code class="literal">outputSelect</code> example</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="binaryDataResource_t"&gt;
  &lt;uri offset="0" size="589824"&gt;img0001.dcm&lt;/uri&gt;
  &lt;elementType&gt;uint32&lt;/elementType&gt;
  &lt;byteOrder&gt;lsbfirst&lt;/byteOrder&gt;
  &lt;dimension label="x"&gt;
    &lt;size&gt;64&lt;/size&gt;
  &lt;/dimension&gt;
  &lt;dimension label="z" splitRank="1"&gt;
    &lt;size&gt;6&lt;/size&gt;
  &lt;/dimension&gt;
  &lt;dimension label="y"&gt;
    &lt;size&gt;64&lt;/size&gt;
  &lt;/dimension&gt;
  &lt;dimension label="z" splitRank="2" outputSelect="0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31"&gt;
    &lt;size&gt;6&lt;/size&gt;
  &lt;/dimension&gt;
&lt;/dataResource&gt;</pre></div></div><br class="figure-break"><p>The <code class="literal">outputSelect</code> attribute specifies a list of indices along the given dimension (or combined dimension if it occurs on the highest-ranked component of a split dimension) that should be regarded as valid data.  Data in the other indices should be ignored.</p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.catalog"></a>Chapter 4. Catalogs</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2757574"></a>Overview</h2></div></div></div><p>Catalogs in XCEDE 2 are containers of related resources, resource references, and data references.  They are recursive in that catalogs can contain a list of catalogs and catalog references.</p><p>Catalogs are useful in a number of contexts.  A catalog could be created, for example, to represent all of the acquisition resources associated with an episode.  These catalogs could be contained within a parent catalog that represents each of the episodes in an MR study.  Catalogs could also be used to represent the various resources generated as part of an analysis or uploaded and tagged by users.</p><p>A benefit of using catalogs, as opposed to linking resources directly in analysis and acquisition elements, is that the catalogs can be sent independent of the parent content to client applications that choose not to support the full XCEDE specification.  Additionally, catalog documents can be quite
large when they contain thousands of entries (for example, when pointing to individual DICOM files for an acquisition), so separating the catalogs from their parents can be more efficient.</p><p>Catalogs are represented by the <span class="type">catalog_t</span> complex type, derived from <span class="type">abstract_tagged_entity_t</span>. 
 The catalog child element of the root XCEDE element is of type <span class="type">catalog_t</span>.  
The resources included in the catalog can be pointed to from by resource references in a number of places in XCEDE, including <span class="type">analysis_t</span> and <span class="type">acquisition_t</span>.</p><p>The abstract base type <span class="type">abstract_tagged_entity_t</span> provides an unbounded set of <code class="literal">tags</code> that users
 and applications can populate to attach ad-hoc documentation and labels to the catalog and its contents.  catalog_t also includes an unbounded list of
child subcatalogs (or references to child catalogs) and an unbounded list of entries.  Each entry is either a resource, a reference to a resource, or
a reference to an XCEDE data element (an analysis, for example).</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2757652"></a>Examples</h2></div></div></div><div class="figure"><a name="catalog.example_instance"></a><p class="title"><b>Figure 4.1. Catalog instance</b></p><div class="figure-contents"><pre class="programlisting">&lt;XCEDE&gt;
	&lt;catalog ID="ID0"&gt;
		&lt;catalogList&gt;
			&lt;catalog ID="ID1"&gt;
				&lt;entryList&gt;
					&lt;entry ID="ID2" name="lh.pial" description="pial surface of left hemisphere" format="FreeSurfer:surface-1" content="lh.pial" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/surf/lh.pial"/&gt;
					&lt;entry ID="ID3" name="brain" description="extracted brain mri" format="FreeSurfer:mgz-1" content="brain" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/brain.mgz"/&gt;
					&lt;entry ID="ID4" name="zstat8" description="8th zstatisic contrast" format="nifti:nii-1" content="zstat8" cachePath="" uri="file://c:/data/fBIRN-AHM2006/sirp-hp65-stc-to7-gam.feat/stats/zstat8.nii"/&gt;
					&lt;entry ID="ID5" name="aparc+aseg" description="parcellation and segmentation label map" format="FreeSurfer:mgz-1" content="aparc+aseg" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/aparc+aseg.mgz"/&gt;
				&lt;/entryList&gt;
			&lt;/catalog&gt;
			&lt;catalog ID="ID1"&gt;
				&lt;entryList&gt;
					&lt;entry ID="ID2" name="lh.pial" description="pial surface of left hemisphere" format="FreeSurfer:surface-1" content="lh.pial" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/surf/lh.pial"/&gt;
					&lt;entry ID="ID3" name="brain" description="extracted brain mri" format="FreeSurfer:mgz-1" content="brain" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/brain.mgz"/&gt;
					&lt;entry ID="ID4" name="zstat8" description="8th zstatisic contrast" format="nifti:nii-1" content="zstat8" cachePath="" uri="file://c:/data/fBIRN-AHM2006/sirp-hp65-stc-to7-gam.feat/stats/zstat8.nii"/&gt;
					&lt;entry ID="ID5" name="aparc+aseg" description="parcellation and segmentation label map" format="FreeSurfer:mgz-1" content="aparc+aseg" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/aparc+aseg.mgz"/&gt;
				&lt;/entryList&gt;
			&lt;/catalog&gt;
		&lt;/catalogList&gt;
	&lt;/catalog&gt;
&lt;/XCEDE&gt;
 </pre></div></div><br class="figure-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2757670"></a>Reference</h2></div></div></div><div class="figure"><a name="catalog.ref_diagram%20"></a><p class="title"><b>Figure 4.2. catalog_t</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="images/catalog_t.png" width="540" alt="catalog_t"></td></tr></table></div></div></div><br class="figure-break"></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.provenance"></a>Chapter 5. Provenance</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2757708"></a>Overview</h2></div></div></div><p>Provenance is used to record in detail the sequence of processing and analysis 
steps that have been executed to create a derived image and/or measures. 
These details include the name and type of machine on which the executable was run, 
the name of the executable, and input parameters to the exectuable.</p><p>MR studies represented in XCEDE 2 will be populated with large numbers of medical image volumes which 
researchers will wish to access and run through various processing tools in order to obtain 
derived data. This derived data, such as volumes of various brain structures, cortical thickness etc., 
will then be placed back into the database, linked to the original volume from which it was produced.
 If a researcher would like to recreate the processing steps, in order to apply it to a new data set,
 they will be able to obtain the information needed to download or reconstruct the tools that were 
used on the original data set.  In typical usage, information about the processing tools will be made available by 
the authors of the tools, collected at run time by processing scripts, and written into XCEDE documents.
</p><p><b><span class="type">provenance_t</span>. </b>Data represented by an instance of <span class="type">dataResource_t</span> or <code class="literal">analysis_t</code> may contain a <code class="literal">&lt;provenance&gt;</code> element of this type, which represents an ordered sequence of processing steps (<span class="type">processStep_t</span>) that were executed to create the data.</p><p><b><span class="type">processStep_t</span>. </b>This type contains two attributes, ID and parent, indicating a unique ID for the step and its 
parent step, respectively. It includes a number of child elements that describe the conditions
under which an executable was run. All of the child elements are formally optional. The following are strongly
recommended:</p><div class="variablelist"><dl><dt><span class="term">program</span></dt><dd><p>The name of the executable.  Version and build numbers may be specified using the attributes <code class="literal">version</code> and <code class="literal">build</code>. 
See instructions below for inserting version control content. Alternately, you can define it as a user string. </p></dd><dt><span class="term">programArguments</span></dt><dd><p> The arguments passed into the executable.  Optional attributes <code class="literal">inputs</code> and <code class="literal">outputs</code> are used to break 
down the full list of arguments into input and output arguments.</p></dd><dt><span class="term">timeStamp</span></dt><dd><p> The time at which the program started to run.</p></dd><dt><span class="term">user</span></dt><dd><p> Who was logged in and running this executable?</p></dd><dt><span class="term">hostName</span></dt><dd><p> The unique id of the computer running this executable. Replaces Machine from old schema.</p></dd><dt><span class="term">architecture</span></dt><dd><p> The type of hardware that the processing step is run on, <code class="literal">sun</code>, <code class="literal">x86</code>, etc.</p></dd><dt><span class="term">platform</span></dt><dd><p> The operating system under which the processing step is being run.</p></dd></dl></div><p>These are optional:</p><div class="variablelist"><dl><dt><span class="term">cvs</span></dt><dd><p>Revision control repository information.  Use the CVS keyword Id, inserted into your source code
 file as <code class="literal">$Id: chap_provenance.xml,v 1.8 2007/08/13 19:53:05 gadde Exp $</code> and it will be replaced with the file name, version, date of change and who changed it. 
Also works with SVN, but see SVN notes for enabling it.</p></dd><dt><span class="term">compiler</span></dt><dd><p>What was used to compile this executable? Name and version.</p></dd><dt><span class="term">library</span></dt><dd><p>The name and version of a linked library. Can be repeated as many times as necessary. 
This is dependent on the library in question, examples are given for VTK and Tcl and Tk.</p></dd><dt><span class="term">buildTimeStamp</span></dt><dd><p>The time stamp indicating when the executable was built.</p></dd><dt><span class="term">package</span></dt><dd><p>This tag gives the overall package version, if the executable is part of a larger unit.  For example, 
mri_convert is part of FreeSurfer, and the whole FreeSurfer package may have a different version number than the
 mri_convert executable.</p></dd><dt><span class="term">repository</span></dt><dd><p>Where can the software be found? Link to a code repository or a web page. Can be extracted automatically 
if using SVN, via the HeadURL keyword.</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758048"></a>Examples</h2></div></div></div></div><p>Provenance elements are children of dataReource and analysis types and describe the sequence of processing steps that were executed to generate the data represented by the parent element.
In the example below, </p><div class="figure"><a name="provenance.simple_example"></a><p class="title"><b>Figure 5.1. Simple provenance example</b></p><div class="figure-contents"><pre class="programlisting">&lt;dataResource xsi:type="binaryDataResource_t"&gt;
  &lt;uri offset="0" size="8192"&gt;random_generated_data_file.bin&lt;/uri&gt;
  &lt;provenance ID="1"&gt;
	&lt;processStep parent="1" ID="1"&gt;
		&lt;program build="1.0" version="1.0"&gt;filter1&lt;/program&gt;
		&lt;programArguments inputs="-in analyze" outputs="-out minc"&gt;-size 10 -reps 100 -v -in minc -out nifti&lt;/programArguments&gt;
		&lt;timeStamp&gt;11:20:37&lt;/timestamp&gt;
		&lt;user&gt;xnatmaster&lt;/xnat&gt;
		&lt;hostName&gt;lablin1&lt;/hostname&gt;
		&lt;architecture/&gt;
		&lt;platform version="String"&gt;String&lt;/platform&gt;
	&lt;/processStep&gt;
	&lt;processStep parent="1" ID="2"&gt;
		&lt;program build="String" version="1.2"&gt;filter2&lt;/program&gt;
		&lt;programArguments inputs="-in minc" outputs="-out nifti"&gt;-size 20 -reps 200 -v -in minc -out nifti&lt;/programArguments&gt;
		&lt;timeStamp&gt;11:50:21&lt;/timestamp&gt;
		&lt;user&gt;xnatmaster&lt;/user&gt;
		&lt;hostName&gt;lablin1&lt;/hostname&gt;
		&lt;architecture&gt;x86&lt;/architecture&gt;
		&lt;platform version="6"&gt;fedora&lt;/platform&gt;
	&lt;/processStep&gt;
  &lt;/provenance&gt;
  &lt;elementType&gt;float32&lt;/elementType&gt;
  &lt;byteOrder&gt;lsbfirst&lt;/byteOrder&gt;

&lt;/dataResource&gt;</pre></div></div><br class="figure-break"><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758073"></a>Generating provenance XML from applications</h2></div></div></div><p>The figure below illustrates a C code snippet (written by Nicole Aucoin and implemented in 3DSlicer) that generates
provenance XML from an application. [Note: This may not be completely compliant with XCEDE2.]</p><div class="informalexample"><a name="provenance_generation.example"></a><pre class="programlisting">
void printAllInfo(int argc, char **argv)
{
  int i;
  struct tm * timeInfo;
  time_t rawtime;
  // yyyy/mm/dd-hh-mm-ss-ms-TZ
  // plus one for 3 char time zone
  char timeStr[27];

  fprintf(stdout, "&lt;ProcessStep&gt;\n");
  fprintf(stdout, "&lt;Program version=\"$Revision: 1.8 $\"&gt;%s&lt;/ProgramName&gt;\n", argv[0]);
  fprintf(stdout, "&lt;ProgramArguments&gt;");
  for (i = 1; i &lt; argc; i++)
    {
    fprintf(stdout, " %s", argv[i]);
    }
  fprintf(stdout, "&lt;/ProgramArguments&gt;\n");
  fprintf(stdout, "&lt;CVS&gt;$Id: chap_provenance.xml,v 1.8 2007/08/13 19:53:05 gadde Exp $&lt;/CVS&gt; &lt;TimeStamp&gt;");
  time ( &amp;rawtime );
  timeInfo = localtime (&amp;rawtime);
  strftime (timeStr, 27, "%Y/%m/%d-%H-%M-%S-00-%Z", timeInfo);
  fprintf(stdout, "%s&lt;/TimeStamp&gt;\n", timeStr);
  fprintf(stdout, "&lt;User&gt;%s&lt;/User&gt;\n", getenv("USER"));

  fprintf(stdout, "&lt;HostName&gt;");
  if (getenv("HOSTNAME") == NULL)
    {
    if (getenv("HOST") == NULL)
      {
      fprintf(stdout, "(unknown)");
      }
    else
      {
      fprintf(stdout, "%s", getenv("HOST"));
      }
    }
  else
    {
    fprintf(stdout, "%s", getenv("HOSTNAME"));
    }
  fprintf(stdout, "&lt;/HostName&gt;&lt;Platform version=\"");
#if defined(sun) || defined(__sun)
#if defined(__SunOS_5_7)
  fprintf(stdout, "2.7");
#endif
#if defined(__SunOS_5_8)
  fprintf(stdout, "8");
#endif
#endif
#if defined(linux) || defined(__linux)
  fprintf(stdout, "unknown");
#endif

  fprintf(stdout, "\"&gt;");
  // now the platform name
#if defined(linux) || defined(__linux)
  fprintf(stdout, "Linux");
#endif
#if defined(macintosh) || defined(Macintosh)
  fprintf(stdout, "MAC OS 9");
#endif
#ifdef __MACOSX__
  fprintf(stdout, "MAC OS X");
#endif
#if defined(sun) || defined(__sun)
# if defined(__SVR4) || defined(__svr4__)
  fprintf(stdout, "Solaris");
# else
  fprintf(stdout, "SunOS");
# endif
#endif
#if defined(_WIN32) || defined(__WIN32__)
  fprintf(stdout, "Windows");
#endif
  fprintf(stdout, "&lt;/Platform&gt;\n");

  if (getenv("MACHTYPE") != NULL)
    {
    fprintf(stdout, "&lt;Architecture&gt;%s&lt;/Architecture&gt;\n", getenv("MACHTYPE"));
    }

  fprintf(stdout, "&lt;Compiler version=\"");
  #if defined(__GNUC__)
#if defined(__GNU_PATCHLEVEL__)
  fprintf(stdout, "%d", (__GNUC__ * 10000 + __GNUC_MINOR__ * 100 + __GNUC_PATCHLEVEL__));
#else
  fprintf(stdout, "%d", (__GNUC__ * 10000 + __GNUC_MINOR__ * 100));
#endif
#endif
#if defined(_MSC_VER)
  fprintf(stdout, "%d", (_MSC_VER));
#endif
  // now the compiler name
  fprintf(stdout, "&gt;");
#if defined(__GNUC__)
  fprintf(stdout, "GCC");
#else
#if defined(_MSC_VER)
  fprintf(stdout, "MSC");
#else
  fprintf(stdout, "UKNOWN");
#endif
#endif
  fprintf(stdout, "&lt;/Compiler&gt;\n");


  fprintf(stdout, "&lt;Library version=\"%s\"&gt;VTK&lt;/Librarary&gt;&lt;Library version=\"unknown\"&gt;ITK&lt;/Library&gt;&lt;Library version=\"%s\"&gt;KWWidgets&lt;/Library&gt;\n", VTK_VERSION, KWWidgets_VERSION);
  int major, minor, patchLevel;
  Tcl_GetVersion(&amp;major, &amp;minor, &amp;patchLevel, NULL);
  fprintf(stdout, "&lt;Library version=\"%d.%d.%d\"&gt;TCL&lt;/Library&gt;\n", major, minor, patchLevel);
  //fprintf(stdout, "&lt;Library version=\"%d.%d.%d\"&gt;TK&lt;/Library&gt;\n", major,
  //minor, patchLevel);
#ifdef USE_PYTHON
  fprintf(stdout, "&lt;Library version=\"%s\"&gt;Python&lt;/Library&gt;\n", PY_VERSION);
#endif
  fprintf(stdout, "&lt;Repository&gt;$HeadURL: http://www.na-mic.org/svn/Slicer3/trunk/Applications/GUI/Slicer3.cxx $&lt;/Repository&gt;\n");
  fprintf(stdout, "&lt;ProcessStep&gt;\n");
  fprintf(stdout, "\n");
}
</pre></div><p>For the version, you can use the CVS keyword Name, inserted into your source code file as $Name:  $
 and it will be replaced with a the version tag when you check out the code with a tag:</p><pre class="programlisting">cvs -r tag co [modulename]&lt;/programlisting&gt;</pre><p>If you are using SVN, in order to use CVS style keywords and have them be replaced with 
the appropriate values, you must enable the SVN repository's properties on a file by file (and keyword by keyword) 
basis by issuing the following command:</p><pre class="programlisting">svn propset svn:keywords "Revision Id Date HeadURL" [filename.ext]</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758138"></a>Reference</h2></div></div></div><div class="figure"><a name="provenance.ref_diagram%20"></a><p class="title"><b>Figure 5.2. provenance_t</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="images/provenance_t.png" width="540" alt="provenance_t"></td></tr></table></div></div></div><br class="figure-break"></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.events"></a>Chapter 6. Events</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758176"></a>Overview</h2></div></div></div><p><span class="emphasis"><em>Events</em></span> in XCEDE are merely time intervals annotated with arbitrary metadata.  This component can be used to represent several types of behavioral data, statistics calculated on time series data, or any other metadata whose proper interpretation requires that it be associated with a particular time interval.</p><p>An XCEDE event consists of the following:</p><div class="variablelist"><dl><dt><span class="term">onset</span></dt><dd><p>The onset (in seconds) of the time interval.</p></dd><dt><span class="term">duration</span></dt><dd><p>The duration (in seconds) of the time interval.</p></dd><dt><span class="term">type</span></dt><dd><p>Usage of this field is user-specified</p></dd><dt><span class="term">name</span></dt><dd><p>Usage of this field is user-specified</p></dd><dt><span class="term">units</span></dt><dd><p>The units of the onset and duration fields.  This field is optional, and it is recommended that users of the schema prescribe an implicit unit of measurement and use it consistently.  In that case, this field may be considered informational only.</p></dd><dt><span class="term">values</span></dt><dd><p>A <span class="emphasis"><em>value</em></span> adds named metadata to this event.</p></dd></dl></div><p>The following instance shows how each of these fields may be populated.</p><pre class="programlisting">&lt;event type="visual" name="event#1" units="sec"&gt;
  &lt;onset&gt;0&lt;/onset&gt;
  &lt;duration&gt;2&lt;/duration&gt;
  &lt;value name="shape"&gt;square&lt;/value&gt;
  &lt;value name="shapecolor"&gt;red&lt;/value&gt;
&lt;/event&gt;</pre><p>Event elements are stored within the <code class="literal">&lt;data&gt;</code> element of an <code class="literal">&lt;acquisition&gt;</code>.  The <code class="literal">&lt;data&gt;</code> element should be of type <span class="type">events_t</span> (using <code class="literal">xsi:type</code> &#8212; see examples below).</p><p>All onsets are relative to an arbitrary time reference.  Typically, time 0 (zero) could mean the start of data acquisition.  An event list may be interpreted as concurrent with data in other <code class="literal">&lt;acquisition&gt;</code> elements (which could be other event lists).  If so, the same time reference should be used in all concurrent acquisition data.</p><p>There is no ordering constraint on events in a list.  Applications should depend on using the <code class="literal">&lt;onset&gt;</code> elements to order the events chronologically if they so desire.</p><p>An optional <code class="literal">&lt;params&gt;</code> element may precede the first event in a list, and this element stores arbitrary metadata (using the same <code class="literal">&lt;value&gt;</code> element used above) that apply to all events in the list.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758414"></a>Examples</h2></div></div></div><div class="figure"><a name="events.timeline"></a><p class="title"><b>Figure 6.1. An event timeline</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="180"><tr><td><img src="images/events_timeline.gif" width="180" alt="An event timeline"></td></tr></table></div></div></div><br class="figure-break"><p>Consider the timeline shown in <a class="xref" href="#events.timeline" title="Figure 6.1. An event timeline">Figure 6.1, &#8220;An event timeline&#8221;</a>, representing stimuli and responses in a neuroimaging study.  We show in <a class="xref" href="#events.stimuli_example" title="Figure 6.2. XCEDE Events example - stimulus/response data">Figure 6.2, &#8220;XCEDE Events example - stimulus/response data&#8221;</a> how the first 5 seconds' worth of the events might be represented in XCEDE.</p><div class="figure"><a name="events.stimuli_example"></a><p class="title"><b>Figure 6.2. XCEDE Events example - stimulus/response data</b></p><div class="figure-contents"><pre class="programlisting">&lt;XCEDE xmlns="http://www.xcede.org/xcede-2"
       xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'&gt;
  &lt;acquisition ID="my_stimulus_response_data"&gt;
    &lt;dataRef ID="my_events" /&gt;
  &lt;/acquisition&gt;
  &lt;data ID="my_events" xsi:type="events_t"&gt;
    &lt;event type="visual"&gt;
      &lt;onset&gt;0&lt;/onset&gt;
      &lt;duration&gt;2&lt;/duration&gt;
      &lt;value name="shape"&gt;square&lt;/value&gt;
      &lt;value name="shapecolor"&gt;red&lt;/value&gt;
    &lt;/event&gt;
    &lt;event type="visual"&gt;
      &lt;onset&gt;2.5&lt;/onset&gt;
      &lt;duration&gt;2&lt;/duration&gt;
      &lt;value name="shape"&gt;square&lt;/value&gt;
      &lt;value name="shapecolor"&gt;blue&lt;/value&gt;
    &lt;/event&gt;
    &lt;event type="audio"&gt;
      &lt;onset&gt;0.3&lt;/onset&gt;
      &lt;duration&gt;1.4&lt;/onset&gt;
      &lt;value name="frequency"&gt;low&lt;/value&gt;
    &lt;/event&gt;
    &lt;event type="audio"&gt;
      &lt;onset&gt;2.0&lt;/onset&gt;
      &lt;duration&gt;1.4&lt;/onset&gt;
      &lt;value name="frequency"&gt;low&lt;/value&gt;
    &lt;/event&gt;
    &lt;event type="audio"&gt;
      &lt;onset&gt;3.5&lt;/onset&gt;
      &lt;duration&gt;1.4&lt;/onset&gt;
      &lt;value name="frequency"&gt;low&lt;/value&gt;
    &lt;/event&gt;
    &lt;event type="response"&gt;
      &lt;onset&gt;3.4&lt;/onset&gt;
      &lt;value name="button"&gt;1&lt;/value&gt;
    &lt;/event&gt;
  &lt;/data&gt;
&lt;/XCEDE&gt;
</pre></div></div><br class="figure-break"><p>Each stimulus and each response are stored as separate event elements.  Note that all the visual events appear first in the XCEDE file, then the audio events, and then the response event.  This ordering is arbitrary, and the events could easily have been presented in chronological (or random!) order.  The semantic interpretation of the events within an event list must not depend on their document order.</p><p>Stimulus and response data are not the only appropriate content to represent in XCEDE events.  <a class="xref" href="#events.QA_example" title="Figure 6.3. XCEDE Events example - QA data">Figure 6.3, &#8220;XCEDE Events example - QA data&#8221;</a> shows how quality assurance (QA) statistics for each volume/timepoint in an fMRI scan can be stored as events.  Note that the time reference for the onsets is arbitrary, but if the <code class="literal">acquisition</code> containing the event data is contained within the same <code class="literal">episode</code> as other time-locked data, it should be assumed that the time reference is the same for all <code class="literal">acquisitions</code> within the <code class="literal">episode</code>, unless otherwise explicitly specified.  So, for example, this QA data might be associated with MR image data in the same <code class="literal">episode</code>, and time 0 (zero) would by default be assumed to have the same meaning in both sets of data.</p><div class="figure"><a name="events.QA_example"></a><p class="title"><b>Figure 6.3. XCEDE Events example - QA data</b></p><div class="figure-contents"><pre class="programlisting">&lt;XCEDE xmlns="http://www.xcede.org/xcede-2"
       xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'&gt;
  &lt;acquisition ID="my_stimulus_response_data"&gt;
    &lt;dataRef ID="my_events" /&gt;
  &lt;/acquisition&gt;
  &lt;data ID="my_events" xsi:type="events_t"&gt;
    &lt;event&gt;
      &lt;onset&gt;0&lt;/onset&gt;
      &lt;duration&gt;2&lt;/duration&gt;
      &lt;value name="volmean"&gt;759.218&lt;/value&gt;
      &lt;value name="cmassx"&gt;106.781&lt;/value&gt;
      &lt;value name="cmassy"&gt;118.279&lt;/value&gt;
      &lt;value name="cmassz"&gt;66.9694&lt;/value&gt;
    &lt;/event&gt;
    &lt;event&gt;
      &lt;onset&gt;2&lt;/onset&gt;
      &lt;duration&gt;2&lt;/duration&gt;
      &lt;value name="volmean"&gt;759.218&lt;/value&gt;
      &lt;value name="cmassx"&gt;106.801&lt;/value&gt;
      &lt;value name="cmassy"&gt;118.242&lt;/value&gt;
      &lt;value name="cmassz"&gt;67.1636&lt;/value&gt;
    &lt;/event&gt;
    &lt;!-- ... etc. ... --&gt;
  &lt;/data&gt;
&lt;/XCEDE&gt;</pre></div></div><br class="figure-break"></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.protocol"></a>Chapter 7. Protocols</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758558"></a>Overview</h2></div></div></div><p>Specifications of experimental protocols are stored in XCEDE using the <code class="literal">protocol_t</code> tag structures.</p><p>Protocols in XCEDE consists of a hierarchial organization of steps defining the protocol and items within the steps defining particular </p><p><b><code class="literal">protocol_t</code>. </b>The <code class="literal">protocol_t</code> tag extends the <code class="literal">abstract_protocol_t</code> tag to include steps and items making up a protocol description.</p><p><b><code class="literal">abstract_protocol_t</code>. </b>The <code class="literal">abstract_protocol_t</code> abstract tag provides basis information related to a protocol such as protocol time offset, min and max occurences, concept linkages, and more described belowThe <code class="literal">protocol_offset_t</code> tag is used to specify timing of this particular protocol relative to other protocols or steps within an experiment. The <code class="literal">protocolTimeRef</code> and <code class="literal">preferrredTimeOffset</code> tags are used to describe the offset </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758647"></a>Examples</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758653"></a>Reference</h2></div></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.assessment"></a>Chapter 8. Assessments</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758668"></a>Overview</h2></div></div></div><p>Complete data storage and assessment specifications and descriptions are stored in XCEDE using the <code class="literal">assessment_t</code> and <code class="literal">assessmentDescItem_t</code> tag structures.</p><p>In XCEDE the formal definition of an assessment and the cataloging of the actual data values collected for that assessment are specified in different parts of the schema.  The formal description of the assessment questions and possible answer choices are specified in the protocol section <code class="literal">protocol_t</code> of the schema whereas the actual assessment data for an acquisition are stored in the <code class="literal">assessment_t</code> tags</p><p><b><code class="literal">assessment_t</code>. </b>The <code class="literal">assessment_t</code> tag extends the <code class="literal">abstract_data_t</code> tag to include information about the acquired assessment.The <span class="emphasis"><em>name</em></span> element contains the assessment name which is unique within the document and links the acquired listing of assessment data back to the formal assessment definition optionally contained within the protocol descriptionThe <span class="emphasis"><em>dataInstance</em></span> element specifies the state of the acquired data.  Specifically whether it is first entry, second entry, validated, unvalidated, etc.</p><p><b><code class="literal">assessmentInfo_t</code>. </b>The <code class="literal">assessmentInfo_t</code> tag is derived from the <code class="literal">abstract_info_t</code> element and is used to store a description of the assessment</p><p><b><code class="literal">assessmentItem_t</code>. </b>The <code class="literal">assessmentItem_t</code> tag is used to store the actual data captured by the assessment.  The <code class="literal">assessmentItem_t</code> tag is composed of a <code class="literal">&lt;valueStatus&gt;</code> element which contains information about whether the subject declined to answer the question or why the data value might be missing.  The <code class="literal">&lt;value&gt;</code> element stores the actual value of the assessment item as captured on the assessment iteself.  The <code class="literal">&lt;normValue&gt;</code> is used to store the normalized value for the element.  The <code class="literal">&lt;reconciliationNote&gt;</code> is used to document whether the values have been reconcilied if this data is part of multiple data entries.  The <code class="literal">&lt;annotation&gt;</code> is used to annotate the assessment item.The <code class="literal">terminology_ag</code> reference is used to give contextual meaning to the question and link it with known ontologies and concepts.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758820"></a>Examples</h2></div></div></div><p>The assessment example below shows both a formal assessment description stored in the <code class="literal">&lt;protocol&gt;</code> block and also the actual acquired assessment data</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2758834"></a>Formal Assessment Description</h3></div></div></div><p>The formal description of each question for the assessment and possible answer choices</p><div class="figure"><a name="assessment_description.simple_example"></a><p class="title"><b>Figure 8.1. </b></p><div class="figure-contents"><pre class="programlisting"> &lt;xcede:step ID="SES" name="Socio-Economic Scale" minOccurences="1" maxOccurences="1"
                required="true"&gt;
                   &lt;xcede:items&gt;
                    &lt;xcede:item ID="ses_education_subject"&gt;
                        &lt;xcede:itemText&gt;
                            &lt;xcede:textLabel location="leadText"
                                value="What is the highest level of education or professional training
                                that you have achieved?"/&gt;
                            &lt;xcede:textLabel location="trailText"
                                value="Any trailing text might go here"/&gt;
                        &lt;/xcede:itemText&gt;
                        &lt;xcede:itemChoice itemCode="1"
                            itemValue="professional or graduate training (received degree)"/&gt;
                        &lt;xcede:itemChoice itemCode="2" itemValue="college graduate"/&gt;
                        &lt;xcede:itemChoice itemCode="3" itemValue="some college (at least one year)"/&gt;
                    &lt;/xcede:item&gt;
                    &lt;xcede:item ID="ses_education_p_caretaker_prior_18"&gt;
                        &lt;xcede:itemText&gt;
                            &lt;xcede:textLabel location="leadText"
                                value="What is the highest level of education or professional training that your primary caretaker until you were 18 years old has achieved?"/&gt;
                        &lt;/xcede:itemText&gt;
                        &lt;xcede:itemChoice itemCode="1"
                            itemValue="professional or graduate training (received degree)"/&gt;
                        &lt;xcede:itemChoice itemCode="2" itemValue="college graduate"/&gt;
                        &lt;xcede:itemChoice itemCode="3" itemValue="some college (at least one year)"/&gt;
                    &lt;/xcede:item&gt;
                &lt;/xcede:items&gt;
            &lt;/xcede:step&gt;</pre></div></div><br class="figure-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2758854"></a>Actual Acquired Assessment Data</h3></div></div></div><p>An instance of actual assessment data acquired on a subject during a protocol collection</p><div class="figure"><a name="acquired_assessment.simple_example"></a><p class="title"><b>Figure 8.2. </b></p><div class="figure-contents"><pre class="programlisting">&lt;xcede:data xsi:type="xcede:assessment_t" subjectID="00301882920"&gt;
        &lt;xcede:name&gt;Socio-Economic Status&lt;/xcede:name&gt;
        &lt;xcede:dataInstance validated="true"&gt;
            &lt;xcede:assessmentInfo&gt;
                &lt;xcede:description&gt;This is the socio-economic scale. I'm sure there is more
                    intersting things to say about it but I have no idea what&lt;/xcede:description&gt;
            &lt;/xcede:assessmentInfo&gt;
            &lt;xcede:assessmentItem ID="ses_education_subject"&gt;
                &lt;xcede:value&gt;1&lt;/xcede:value&gt;
            &lt;/xcede:assessmentItem&gt;
            &lt;xcede:assessmentItem ID="ses_education_p_caretaker_prior_18"&gt;
                &lt;xcede:value&gt;2&lt;/xcede:value&gt;
            &lt;/xcede:assessmentItem&gt;
            &lt;xcede:assessmentItem ID="ses_education_p_caretaker_lifetime"&gt;
                &lt;xcede:value&gt;2&lt;/xcede:value&gt;
            &lt;/xcede:assessmentItem&gt;
            &lt;xcede:assessmentItem ID="ses_education_s_caretaker_prior18"&gt;
                &lt;xcede:value&gt;1&lt;/xcede:value&gt;
            &lt;/xcede:assessmentItem&gt;
        &lt;/xcede:dataInstance&gt;
    &lt;/xcede:data&gt;</pre></div></div><br class="figure-break"></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758903"></a>Reference</h2></div></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.analysis"></a>Chapter 9. Analysis</h2></div></div></div><p>The <span class="type">analysis_t</span> type and its corresponding elements are used to document the collected output and/or results from an analysis or processing of data.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2758893"></a>Overview</h2></div></div></div><p>An analysis is composed of the "inputs" (i.e. the files and paramenters used in an analysis or processing of data), the application(s) or method(s) used and the resultant data (i.e. values and output files):</p><div class="variablelist"><p class="title"><b>Analysis Constituents</b></p><dl><dt><span class="term"><code class="varname">provenance</code></span></dt><dd><p>The record of the origin and transformations applied to source data that produced this analysis.  More information on this element can be found in the provenance chapter.</p></dd><dt><span class="term"><code class="varname">inputRef</code></span></dt><dd><p>References to the data file(s) that were used in the analysis.</p></dd><dt><span class="term"><code class="varname">outputRef</code></span></dt><dd><p>Reference to the data file(s) generated by the analysis.  Summary data or statistics may be generated from these files and noted inthe measurementGroup element.</p></dd><dt><span class="term"><code class="varname">measurementGroup</code></span></dt><dd><p>A measurementGroup contains information and data related to the outcome of an analysis.  For example, this could be a statistic (e.g. from a Statistical Parametric Map) or a measurement (e.g. the volume of the hippocmapus).</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759028"></a>Measurement Group</h2></div></div></div><p>A measurementGroup contains information and data related to the outcome of an analysis and is based on the <span class="type">measurementGroup_t</span> type.  Extending abstract container, this allows for the annotation and documentation of the measurements being described. The measurement being described by this element are described by two specific elements: </p><div class="variablelist"><p class="title"><b>Measurement Group Constituents</b></p><dl><dt><span class="term"><code class="varname">entity</code></span></dt><dd><p>In the context of a measurement Group, is the entity being measured.  For example, the hippocampus. In more complicated instances this could be an entity described by multiple entries, for example, when doing a region of interest analysis where multiple or multiple partial regions are involved.</p></dd><dt><span class="term"><code class="varname">observation</code></span></dt><dd><p>In the context of a measurement Group, are the observations that are made concerning the entity.  For example, following hte hippocmapus example, might be the total volume, surface area, etc.</p></dd></dl></div><p>The <code class="varname">entity</code> element is based on the <span class="type">abstract_entity_t</span> type that allows for the definition of specific entity classes. Currently two such classes are defined:</p><div class="variablelist"><p class="title"><b>Entity Classes</b></p><dl><dt><span class="term"><code class="varname">Anatomical Entity</code></span></dt><dd><p>Defines an anatomical entity through a set of terms that name this entity.  This set can contain a collection of synonymous terms. In addition to the anatomical region itself a laterality and tissue type can be specified to narrow the focus (e.g. left hippocampal grey metter).</p></dd><dt><span class="term"><code class="varname">Atlas Entity</code></span></dt><dd><p>Defines an atlas based region through the definition of geometries.  These are defined on the <span class="type">abstract_geometry_t</span> type.</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759137"></a>Examples</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759144"></a>Reference</h2></div></div></div><div class="figure"><a name="analysis_t.ref_diagram%20"></a><p class="title"><b>Figure 9.1. <span class="type">analysis_t</span></b></p><div class="figure-contents"><div class="mediaobject"><img src="images/analysis_t.png" alt="analysis_t"></div></div></div><br class="figure-break"><div class="figure"><a name="measurementGroup_t.ref_diagram%20"></a><p class="title"><b>Figure 9.2. <span class="type">measurementGroup_t</span></b></p><div class="figure-contents"><div class="mediaobject"><img src="images/measurementGroup_t.png" alt="measurementGroup_t"></div></div></div><br class="figure-break"><div class="figure"><a name="atlasEntity_t.ref_diagram%20"></a><p class="title"><b>Figure 9.3. <span class="type">atlasEntity_t</span></b></p><div class="figure-contents"><div class="mediaobject"><img src="images/atlasEntity_t.png" alt="atlasEntity_t"></div></div></div><br class="figure-break"><div class="figure"><a name="anatomicalEntity_t.ref_diagram%20"></a><p class="title"><b>Figure 9.4. <span class="type">anatomicalEntity_t</span></b></p><div class="figure-contents"><div class="mediaobject"><img src="images/anatomicalEntity_t.png" alt="anatomicalEntity_t"></div></div></div><br class="figure-break"><div class="figure"><a name="provenance_t_analysis.ref_diagram%20"></a><p class="title"><b>Figure 9.5. <span class="type">provenance_t</span></b></p><div class="figure-contents"><div class="mediaobject"><img src="images/provenance_t_analysis.png" alt="provenance_t"></div></div></div><br class="figure-break"></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.terminology"></a>Chapter 10. Terminology</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759346"></a>Overview</h2></div></div></div><p>The use of terminologies (and ontologies) are critical in the sharing of data.  Ontologies specify the terms used to describe and represent areas of knowledge. They are commonly used by people, databases, and applications that have a requirement to share information about a subject. For example, the subject areas of medicine, real estate, and automobile repair all have specific ways of representing and communicating knowledge. Ontologies include computer-usable definitions of the basic terms describing the domain and the relationships between concepts. They encode knowledge within a domain and also knowledge that spans multiple domains. In this way, they make that knowledge reusable.  For comprehensive information on ontologies and their use in biomedical science, please visit the National Center for Biomedical Ontology (NCBiO; http://www.bioontology.org/).</p><p>In the context of XCEDE, the use of terminologies is critical for data exchange.  By specifying the exact terminological correspondences for data within XCEDE a user of the data is clear about what the data represents.</p><p>In order to accomplish this within XCEDE, two constructs are primarily used: terminology_ag and terminologyString_t.  The terminology_ag attribute group defines the necessary information required to annotate a data item with its terminology correspondence.  The terminologyString_t utilizes this attribute group and provides a basic type that can be utilized in the schema for data items that should have an associated terminology reference.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759388"></a>Examples</h2></div></div></div><p>The use of terminologies is embedded within the XCEDE schema itself.  For example, in regards to subject information, terminology strings are utilized to define the sex and species.</p><div class="figure"><a name="terminologyString_t.example_schema"></a><p class="title"><b>Figure 10.1. Terminology String Instance</b></p><div class="figure-contents"><pre class="programlisting">
	&lt;xs:complexType name="subjectInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="sex" type="terminologyString_t" minOccurs="0"/&gt;
					&lt;xs:element name="species" type="terminologyString_t" minOccurs="0"/&gt;
					&lt;xs:element name="birthdate" type="terminologyString_t" minOccurs="0"/&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
 </pre></div></div><br class="figure-break"><p>As an example of the use of terminology strings, in the context of a subject detailed above, the following example shows how sex and species are represented for a human female subject.</p><div class="figure"><a name="terminologyString_t.example_instance"></a><p class="title"><b>Figure 10.2. Terminology String Instance</b></p><div class="figure-contents"><pre class="programlisting">
	&lt;sex preferredLabel="Female" abbreviation="F" nomenclature="UMLS" termID="C0015780" termPath="SNOMED CT Concept:Observable entity:General clinical state:Gender:Female"&gt;f&lt;/sex&gt;
	&lt;species preferredLabel="Human" abbreviation="human" nomenclature="BIRNLex" termID="birn_org_anat:birnOrgAnatomy_366" termPath="Thing:entity:continuant:independent_continuant:object:Biomaterial_object:Organismal_object:Organism:Mammal:Eutheria:Euarchontoglires:Primate:Haplorrhini:Simiiformes:Catarrhini:Hominoidea:Hominidae:Homo_Pan_Gorilla_group:Homo:Human"&gt;human&lt;/species
 </pre></div></div><br class="figure-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759442"></a>Reference</h2></div></div></div><div class="figure"><a name="terminology_ag.ref_diagram%20"></a><p class="title"><b>Figure 10.3. terminology_ag</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="images/terminology_ag.png" width="540" alt="terminology_ag"></td></tr></table></div></div></div><br class="figure-break"><div class="figure"><a name="terminologyString_t.ref_diagram%20"></a><p class="title"><b>Figure 10.4. terminologyString_t</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="images/terminologyString_t.png" width="540" alt="terminologyString_t"></td></tr></table></div></div></div><br class="figure-break"></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.annotation"></a>Chapter 11. Comments and Annotations</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759516"></a>Overview</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759523"></a>Examples</h2></div></div></div></div></div></div><div class="part" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="part.use"></a>Part II. Using and Extending XCEDE 2</h1></div></div></div><div class="partintro" lang="en"><div></div><p>This section of the XCEDE 2.0 manual provides practical lessons on using the schema, as well as discussions on how to use W3C XML Schema to extend the core XCEDE 2 datatypes and how to integrate it into applications, databases and web services.</p><div class="sidebar"><p class="title"><b></b></p><p><span class="bold"><strong>This part of the manual is not yet written.</strong></span></p></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#chapter.usecase">12. A Use Case</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759568">Overview</a></span></dt><dt><span class="section"><a href="#id2759574">Examples</a></span></dt><dt><span class="section"><a href="#id2759581">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.extending">13. Extending the Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759596">Overview</a></span></dt><dt><span class="section"><a href="#id2759603">Examples</a></span></dt><dt><span class="section"><a href="#id2759609">Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter.integrating">14. Integration With Applications and Services</a></span></dt><dd><dl><dt><span class="section"><a href="#id2759625">Overview</a></span></dt><dt><span class="section"><a href="#id2759632">Examples</a></span></dt><dt><span class="section"><a href="#id2759638">Reference</a></span></dt></dl></dd></dl></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.usecase"></a>Chapter 12. A Use Case</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759568"></a>Overview</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759574"></a>Examples</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759581"></a>Reference</h2></div></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.extending"></a>Chapter 13. Extending the Schema</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759596"></a>Overview</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759603"></a>Examples</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759609"></a>Reference</h2></div></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="chapter.integrating"></a>Chapter 14. Integration With Applications and Services</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759625"></a>Overview</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759632"></a>Examples</h2></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2759638"></a>Reference</h2></div></div></div></div></div></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="appendix.schema"></a>Appendix A. XML Schema for XCEDE 2.0</h2></div></div></div><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns="http://www.xcede.org/xcede-2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:sch="http://purl.oclc.org/dsdl/schematron" xmlns:gml="http://www.opengis.net/gml" targetNamespace="http://www.xcede.org/xcede-2" elementFormDefault="qualified" attributeFormDefault="unqualified"&gt;
	&lt;xs:annotation&gt;
		&lt;xs:documentation&gt;The XCEDE schema provides an extensive metadata hierarchy for describing and documenting research and clinical studies. The schema organizes information into five general hierarchical levels: a complete project; studies within a project; subjects involved in the studies; visits for each of the subjects; the full description of the subject's participation during each visit&lt;/xs:documentation&gt;
		&lt;xs:documentation&gt;Each of these sub-schemas is composed of information relevant to that aspect of an experiment and can be stored in separate XML files or spliced into one large file allowing for the XML data to be stored in a hierarchical directory structure along with the primary data. Each sub-schema also allows for the storage of data provenance information allowing for a traceable record of processing and/or changes to the underlying data. Additionally, the sub-schemas contain support for derived statistical data in the form of human imaging activation maps and simple statistical value lists.&lt;/xs:documentation&gt;
		&lt;xs:documentation&gt;XCEDE was originally designed in the context of neuroimaging studies and complements the Biomedical Informatics Research Network (BIRN) Human Imaging Database, an extensible database and intuitive web-based user interface for the management, discovery, retrieval, and analysis of clinical and brain imaging data. This close coupling allows for an interchangeable source-sink relationship between the database and the XML files, which can be used for the import/export of data to/from the database, the standardized transport and interchange of experimental data, the local storage of experimental information within data collections, and human and machine readable description of the actual data.&lt;/xs:documentation&gt;
	&lt;/xs:annotation&gt;
	&lt;xs:element name="XCEDE"&gt;
		&lt;xs:complexType&gt;
			&lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
				&lt;xs:element name="annotationList" minOccurs="0"&gt;
					&lt;xs:complexType&gt;
						&lt;xs:sequence&gt;
							&lt;xs:element name="annotation" type="textAnnotation_t" minOccurs="0" maxOccurs="unbounded"/&gt;
						&lt;/xs:sequence&gt;
					&lt;/xs:complexType&gt;
				&lt;/xs:element&gt;
				&lt;xs:element name="revisionList" minOccurs="0"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;container for document revision history&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
					&lt;xs:complexType&gt;
						&lt;xs:sequence&gt;
							&lt;xs:element name="revision" type="revision_t" minOccurs="0" maxOccurs="unbounded"/&gt;
						&lt;/xs:sequence&gt;
					&lt;/xs:complexType&gt;
				&lt;/xs:element&gt;
				&lt;xs:element name="project" type="project_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="subject" type="subject_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="visit" type="visit_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="study" type="study_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="episode" type="episode_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="acquisition" type="acquisition_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="catalog" type="catalog_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="analysis" type="analysis_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="resource" type="resource_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="protocol" type="protocol_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="data" type="abstract_data_t" minOccurs="0" maxOccurs="unbounded"/&gt;
			&lt;/xs:choice&gt;
			&lt;xs:attribute name="version" type="xs:string"/&gt;
		&lt;/xs:complexType&gt;
	&lt;/xs:element&gt;
	&lt;!--*********            Top-level containers            *********--&gt;
	&lt;xs:complexType name="project_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="projectInfo" type="projectInfo_t" minOccurs="0"/&gt;
					&lt;xs:element name="contributorList" minOccurs="0"&gt;
						&lt;xs:complexType&gt;
							&lt;xs:sequence&gt;
								&lt;xs:element name="contributor" type="person_t" minOccurs="0" maxOccurs="unbounded"/&gt;
							&lt;/xs:sequence&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="subjectGroup_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;There should be one of these elements for each subject group in this project (e.g. control, patient).&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="subjectID" minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="ID"/&gt;
		&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="subject_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="subjectInfo" type="subjectInfo_t" minOccurs="0"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="visit_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="visitInfo" type="visitInfo_t" minOccurs="0"/&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:attributeGroup ref="visitExternalIDs_ag"/&gt;
				&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="study_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="studyInfo" type="studyInfo_t" minOccurs="0"/&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:attributeGroup ref="studyExternalIDs_ag"/&gt;
				&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="episode_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="episodeInfo" type="episodeInfo_t" minOccurs="0"/&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:attributeGroup ref="episodeExternalIDs_ag"/&gt;
				&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="acquisition_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="acquisitionInfo" type="acquisitionInfo_t" minOccurs="0"/&gt;
					&lt;xs:choice minOccurs="0"&gt;
						&lt;xs:element name="dataResourceRef" type="ref_t"&gt;
							&lt;xs:annotation&gt;
								&lt;xs:documentation&gt;A reference to a resource as described above. The resource could be part of a catalog, a root level resource, etc.&lt;/xs:documentation&gt;
							&lt;/xs:annotation&gt;
						&lt;/xs:element&gt;
						&lt;xs:element name="dataRef" type="ref_t"&gt;
							&lt;xs:annotation&gt;
								&lt;xs:documentation&gt;A refrence to a container that the actual acquisition data goes into (as opposed to being in an external non-XCEDE format)&lt;/xs:documentation&gt;
							&lt;/xs:annotation&gt;
						&lt;/xs:element&gt;
					&lt;/xs:choice&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:attribute name="acquisitionProtocol" use="optional"/&gt;
				&lt;xs:attributeGroup ref="acquisitionExternalIDs_ag"/&gt;
				&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="analysis_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;A collection of output from ana analysis of data.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="provenance" type="provenance_t" minOccurs="0" maxOccurs="unbounded"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;The record of the origin and transformations applied to source data that produced this analysis&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="inputRef" type="ref_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="outputRef" type="ref_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="measurementGroup" type="measurementGroup_t" maxOccurs="unbounded"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;A measurementGroup contains information and data related to the outcome of an analysis.  For example, this could be a statistic (e.g. from a Statistical Parametric Map) or a measurement (e.g. the volume of the hippocmapus).&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="observation_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;Observations that are made concerning an entity (e.g. in a measurementGroup).  For example, following hte hippocmapus example, might be the total volume, surface area, etc.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="name" type="xs:string" use="required"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;The name (preferred label) of the observation value&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
				&lt;xs:attribute name="units" type="xs:string" use="optional"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;The measurement units for the returned value of the observation&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
				&lt;xs:attribute name="type" type="valueTypes_t" use="optional"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;The declared data type for the returned value of the observation&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="protocol_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_protocol_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="steps" minOccurs="0"&gt;
						&lt;xs:complexType&gt;
							&lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
								&lt;xs:element name="step" type="protocol_t"/&gt;
								&lt;xs:element name="stepRef" type="ref_t"/&gt;
							&lt;/xs:choice&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="items" minOccurs="0"&gt;
						&lt;xs:complexType&gt;
							&lt;xs:sequence&gt;
								&lt;xs:element name="item" type="protocolItem_t" minOccurs="0" maxOccurs="unbounded"/&gt;
							&lt;/xs:sequence&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="catalog_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_tagged_entity_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="catalogList" minOccurs="0"&gt;
						&lt;xs:complexType&gt;
							&lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
								&lt;xs:element name="catalog" type="catalog_t"/&gt;
								&lt;xs:element name="catalogRef"&gt;
									&lt;xs:complexType&gt;
										&lt;xs:attribute name="catalogID" type="xs:string"/&gt;
									&lt;/xs:complexType&gt;
								&lt;/xs:element&gt;
							&lt;/xs:choice&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="entryList" minOccurs="0"&gt;
						&lt;xs:complexType&gt;
							&lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
								&lt;xs:element name="entry" type="resource_t"/&gt;
								&lt;xs:element name="entryDataRef" type="ref_t"&gt;
									&lt;xs:annotation&gt;
										&lt;xs:documentation&gt;A reference to a data element at the top level of an XCEDE document&lt;/xs:documentation&gt;
									&lt;/xs:annotation&gt;
								&lt;/xs:element&gt;
								&lt;xs:element name="entryResourceRef" type="ref_t"&gt;
									&lt;xs:annotation&gt;
										&lt;xs:documentation&gt;A reference to a resource element at the top level of an XCEDE document&lt;/xs:documentation&gt;
									&lt;/xs:annotation&gt;
								&lt;/xs:element&gt;
							&lt;/xs:choice&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:attributeGroup ref="ID_name_description"/&gt;
				&lt;xs:attributeGroup ref="levelRef_ag"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="resource_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;A resource is something that we haven't agreed on
			yet.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_tagged_entity_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="uri" type="frag_uri_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:attributeGroup ref="ID_name_description"/&gt;
				&lt;xs:attributeGroup ref="levelRef_ag"/&gt;
				&lt;xs:attribute name="format" type="xs:string" use="optional"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;Format of file. E.g. DICOM, Analyze, 4dfp&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
				&lt;xs:attribute name="content" type="xs:string" use="optional"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;Code indicating the contents of the image. E.g. GFC, T88&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
				&lt;xs:attribute name="cachePath" use="optional"&gt;
					&lt;xs:simpleType&gt;
						&lt;xs:restriction base="xs:string"&gt;
							&lt;xs:maxLength value="255"/&gt;
						&lt;/xs:restriction&gt;
					&lt;/xs:simpleType&gt;
				&lt;/xs:attribute&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;!--*********      Top-level ID attribute groups      *********--&gt;
	&lt;xs:attributeGroup name="visitExternalIDs_ag"&gt;
		&lt;xs:attribute name="projectID" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The content of this attribute should match the ID attribute of the project_t to which this element is associated.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="projectURI" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;This is the location of a document where to find an element matching the projectID (see projectID attribute).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="subjectID" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The content of this attribute should match the ID attribute of the subject_t to which this element is associated.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="subjectURI" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;This is the location of a document where to find an element	matching the subjectID (see subjectID attribute).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="subjectGroupID" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;content of this attribute should match the ID of one of the subject groups listed in the project_t associated with this element (see projectID and project_t).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:attributeGroup name="studyExternalIDs_ag"&gt;
		&lt;xs:attributeGroup ref="visitExternalIDs_ag"/&gt;
		&lt;xs:attribute name="visitID" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The content of this attribute should match the ID attribute of the visit_t to which this element is associated.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="visitURI" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;This is the location of a document where to find an element matching the visitID (see visitID attribute).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:attributeGroup name="episodeExternalIDs_ag"&gt;
		&lt;xs:attributeGroup ref="studyExternalIDs_ag"/&gt;
		&lt;xs:attribute name="studyID" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The content of this attribute should match the ID attribute of the study_t to which this element is associated.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="studyURI" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;This is the location of a document where to find an element	matching the studyID (see studyID attribute).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:attributeGroup name="acquisitionExternalIDs_ag"&gt;
		&lt;xs:attributeGroup ref="episodeExternalIDs_ag"/&gt;
		&lt;xs:attribute name="episodeID" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The content of this attribute should match the ID attribute of the episode_t to which this element is associated.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="episodeURI" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;This is the location of a document where to find an element matching the episodeID (see episodeID attribute).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:attributeGroup name="allLevelExternalIDs_ag"&gt;
		&lt;xs:attributeGroup ref="acquisitionExternalIDs_ag"/&gt;
		&lt;xs:attribute name="acquisitionID" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The content of this attribute should match the ID attribute of the acquisition_t to which this element is associated.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="acquisitionURI" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;This is the location of a document where to find an element	matching the acquisitionID (see acquisitionID attribute).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:attributeGroup name="levelRef_ag"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;Reference to the meta-data element that this catalog is related to. Should point to one of the core xcede hierarchy components: project, subject, visit, study, acquisition.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:attribute name="level" type="levelDescriptor_t"/&gt;
		&lt;xs:attributeGroup ref="allLevelExternalIDs_ag"/&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;!--*********            Abstract types            *********--&gt;
	&lt;xs:complexType name="abstract_data_t" abstract="true"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:attributeGroup ref="levelRef_ag"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="abstract_container_t" abstract="true"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="commentList" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;A comment is a description of the entity refered to by the current element.  For example, a description of a particular subject or series.&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
				&lt;xs:complexType&gt;
					&lt;xs:sequence&gt;
						&lt;xs:element name="comment" type="authoredText_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;/xs:sequence&gt;
				&lt;/xs:complexType&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="annotationList" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;An annotation is a description related to the xml document and the current element.  Fore example, some processing that ahs edited content in the element itself.&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
				&lt;xs:complexType&gt;
					&lt;xs:sequence&gt;
						&lt;xs:element name="annotation" type="textAnnotation_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;/xs:sequence&gt;
				&lt;/xs:complexType&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="resourceList" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Informational resources related to the container&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
				&lt;xs:complexType&gt;
					&lt;xs:sequence&gt;
						&lt;xs:element name="resource" type="informationResource_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;/xs:sequence&gt;
				&lt;/xs:complexType&gt;
			&lt;/xs:element&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
		&lt;xs:attribute name="rev" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Revision number, should correspond with an appropriate revision ID in the XCEDE/history element&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="type" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Attribute for creating categories within a container set. For example, within study, types might include 'PET' or 'MR'. One could also create sub-classes using colon notation: "MR:STRUCT"&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attributeGroup ref="terminology_ag"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="abstract_entity_t" abstract="true"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;entity elements are used to describe the resultant scope of an analysis (e.g. anatomical entity, atlas entity)&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="description" type="xs:string" minOccurs="0"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
		&lt;xs:attribute name="preferredEntityLabel" type="xs:string" use="required"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Preferred Name for the Entity&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="abstract_info_t" abstract="true"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;info elements are present in each of the hierarchy levels. these can be extended to capture instance specific content (following recommendation
			5)&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="description" type="xs:string" minOccurs="0"/&gt;
		&lt;/xs:sequence&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="abstract_protocol_t" abstract="true"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="protocolOffset" type="protocolOffset_t" minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attributeGroup ref="ID_name_description"/&gt;
		&lt;xs:attributeGroup ref="terminology_ag"/&gt;
		&lt;xs:attribute name="level" type="levelDescriptor_t"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Describes the level of the XCEDE hierarchy that this protocol
					instance should be validated against&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="required" type="xs:boolean"/&gt;
		&lt;xs:attribute name="minOccurences" type="xs:integer"/&gt;
		&lt;xs:attribute name="maxOccurences" type="xs:integer"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Are these occurences within a step (i.e. during a single time point)? How to refer to repeats across steps?&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="minTimeFromStart" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Absolute time from start of overall protocol&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="maxTimeFromStart" type="xs:string"/&gt;
	&lt;/xs:complexType&gt;
	&lt;!--*********            Level information types            *********--&gt;
	&lt;xs:complexType name="projectInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="exptDesignList" minOccurs="0"&gt;
						&lt;xs:complexType&gt;
							&lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
								&lt;xs:element name="exptDesign"/&gt;
								&lt;xs:element name="exptDesignRef" type="ref_t"/&gt;
							&lt;/xs:choice&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="subjectGroupList" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;This provides a mapping of subjects to subject groups within projects. A subject can be a member of subject groups in multiple projects.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
						&lt;xs:complexType&gt;
							&lt;xs:sequence&gt;
								&lt;xs:element name="subjectGroup" type="subjectGroup_t" minOccurs="0" maxOccurs="unbounded"/&gt;
							&lt;/xs:sequence&gt;
							&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="subjectInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="sex" type="terminologyString_t" minOccurs="0"/&gt;
					&lt;xs:element name="species" type="terminologyString_t" minOccurs="0"/&gt;
					&lt;xs:element name="birthdate" type="terminologyString_t" minOccurs="0"/&gt;
					&lt;xs:any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="studyInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"/&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="visitInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="timeStamp" type="xs:dateTime" minOccurs="0"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="episodeInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"/&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="acquisitionInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"/&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;!--*********            Resource types            *********--&gt;
	&lt;xs:complexType name="informationResource_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="resource_t"/&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="dcResource_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="informationResource_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="title" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="creator" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="subject" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="description" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="publisher" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="contributor" type="orderedString_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="date" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="type" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="format" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="identifier" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="source" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="language" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="relation" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="coverage" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="rights" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="dataResource_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="resource_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="provenance" type="provenance_t" minOccurs="0"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="binaryDataResource_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;The parent type (abstract_resource_t) can describe a stream of data. The extensions in this derived type (binaryDataResource_t) tell you that this data stream is composed of a (one-dimensional) sequence of data items of a given data type and byte order.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="dataResource_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="elementType" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;This element describes the type of individual data elements in the data record. For numeric data types, this indicates whether the element type is a signed integer ("int"), unsigned	integer ("uint"), or floating-point ("float"), as well as the number of bits allocated to each element.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
						&lt;xs:simpleType&gt;
							&lt;xs:restriction base="xs:string"&gt;
								&lt;xs:enumeration value="int8"/&gt;
								&lt;xs:enumeration value="uint8"/&gt;
								&lt;xs:enumeration value="int16"/&gt;
								&lt;xs:enumeration value="uint16"/&gt;
								&lt;xs:enumeration value="int32"/&gt;
								&lt;xs:enumeration value="uint32"/&gt;
								&lt;xs:enumeration value="int64"/&gt;
								&lt;xs:enumeration value="uint64"/&gt;
								&lt;xs:enumeration value="float32"/&gt;
								&lt;xs:enumeration value="float64"/&gt;
								&lt;xs:enumeration value="ascii"/&gt;
							&lt;/xs:restriction&gt;
						&lt;/xs:simpleType&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="byteOrder" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;This element describes whether the individual data elements in the data record are stored with the most-significant-byte first (msbfirst) or least-significant-byte first (lsbfirst). This element is required if the the data type given by the "elementtype" element has a size larger than one	byte.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
						&lt;xs:simpleType&gt;
							&lt;xs:restriction base="xs:string"&gt;
								&lt;xs:enumeration value="lsbfirst"/&gt;
								&lt;xs:enumeration value="msbfirst"/&gt;
							&lt;/xs:restriction&gt;
						&lt;/xs:simpleType&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="compression" type="xs:string" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;If this element is present, the files pointed to by the uri elements are compressed data files. The only compression method specifically named by this specification is "gzip". As a special case for binaryDataResource_t and derived types, files compressed with gzip and containing a .gz suffix can be referenced in the uri element without the suffix. If a file pointed to by the URI does not exist, the application should search for the same file with the .gz suffix appended &amp;#x2014; if it exists, use that file and act as if the compression element had been specified with the value "gzip". This allows the referenced files to be compressed or uncompressed at will (as long as the .gz suffix is appropriately added/removed from the filename), without needing to change the URI's in this element.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="dimensionedBinaryDataResource_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation xml:lang="en"&gt;This type adds multi-dimensionality to the (uni-dimensional) data stream represented by
			binaryDataResource_t.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="binaryDataResource_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="dimension" type="binaryDataDimension_t" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="mappedBinaryDataResource_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation xml:lang="en"&gt;This type places the multi-dimensional data array (say a 3-dimensional cube) into a coordinate space (say MR scanner coordinates).&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="binaryDataResource_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="dimension" type="mappedBinaryDataDimension_t" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="originCoords" type="xs:string" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;This is a coordinate tuple giving the location of the first item in the data. For example, if this is an MR volume, this could be a triple giving the location in RAS coordinates of the first voxel in the data.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="binaryDataDimension_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation xml:lang="en"&gt;This element stores information about one of the N dimensions in the data record. Multiple instances of this element are ordered from fastest-moving to slowest-moving. These elements provide information to describe the size (in data elements) of the N-dimensional bounding box for the data, and in some cases to describe the mapping of indexes within this bounding box to 'real-world' coordinates.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="size" type="xs:int"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation xml:lang="en"&gt;The number of elements in the data along one traversal of this dimension.&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="label" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation xml:lang="en"&gt;This is a label for the dimension. The first three	spatial dimensions (or however many exist) must be labeled, in order, 'x', 'y',	and 'z'. The first temporal dimension must be labeled 't'.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="splitRank" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;If this attribute exists, this dimension is a "split" dimension, and this dimension must be "merged" with one or more other dimensions (with the same label) before presenting the data to the application. This is useful, for example, if the data is stored in Siemens' Mosaic DICOM format, where slices of a 3-D volume are arranged to look like they are tiled onto a square 2-D area. In this case, what would normally be called the 'z' dimension has two forks, one that occurs before the 'y' dimension (the first row in the data covers the first row of several slices), and one that occurs after the 'y' dimension. If, as in this case, there are two or more dimensions that should be merged into one, both component dimensions should have the label 'z', but have splitRank attributes "1" and "2", which specifies the order in which all 'split' dimensions of the same label will be merged. After merging, the resultant 'z' dimension element should contain the same children of the highest-ranked split 'z' dimension, except for the 'size' element, which will be the product of the sizes of all 'z' split dimensions. The position of the resultant dimension should be the position of the highest-ranked 'z' split dimension. The data itself should also be reordered to reflect the new dimension structure.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="outputSelect" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation xml:lang="en"&gt;In the same way that the 'splitRank' attribute allows you to specify dimensions that should be merged before presenting the data to an application, this attribute specifies a data filter along this	dimension. If this attribute exists, it should contain a whitespace-separated list of indices (indexed starting at 0). Only data points along this dimension	that occur in the index list should be presented to the application. Likewise, the 'size' of the dimension, after selection, should be updated to reflect the new size of this dimension (which should be the number of indices in the content of this attribute).&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="mappedBinaryDataDimension_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="binaryDataDimension_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="origin" type="xs:float" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;A value assigned to the first data element along this dimension. For example, if this dimension	corresponds to "time", this element could store the time corresponding to the first data element. If this is a two-dimensional projection of the surface of the Earth, and this dimension takes you around the Earth parallel to the equator, this value could be the degrees longitude. For MRI data, this is the single coordinate on the Left-to-Right, Posterior-to-Anterior, or Inferior-to-Superior axis to which this dimension most closely	matches (see 'direction' element and 'rasOrigin' element in 'mrImageDataResource_t').&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="spacing" type="xs:float" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;This is the average distance between consecutive data elements in this dimension. If the spacing is not regular, then it may be possible to calculate the actual distance between any two data elements in this dimension using the 'datapoints' element.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="gap" type="xs:float" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;This is the length of the unsampled space between consecutive data elements in this dimension, i.e. the distance between the end of one data element and the beginning of the next. For MRI data, this can be used to specify the gap between two collected slices &amp;#x02015; the actual width of each slice	can be calculated as 'spacing' minus 'gap'.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="datapoints" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;The content of this element is either (1) a whitespace-separated list of values, or (2) a list of 'value' elements, that can be used as a label for each data point along this dimension. The values can be numbers representing points on an axis (this is the typical case), text strings, coordinate tuples, etc. Any datapoint label that includes whitespace (coordinate tuples included) must be encapsulated within a child 'value' element. If this element is missing, it is assumed that labels can be calculated using information in other fields (such as 'origin', 'spacing', etc.). This element is particularly useful for dimensions with irregular spacing.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
						&lt;xs:complexType mixed="true"&gt;
							&lt;xs:sequence&gt;
								&lt;xs:element name="value" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
							&lt;/xs:sequence&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="direction" type="listoffloats_t" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;This element contains a vector (represented as a whitespace-separated list of floating-point values in the appropriate coordinate system) that is parallel to this dimension's edge of the bounding box. The vector starts at the first element in the data and points towards subsequent elements along this dimension. For MRI data, this should be a unit vector in (R,A,S) coordinates (positive values are Right, Anterior, or Superior respectively) &amp;#x02015; for 'x' and 'y' dimensions, this corresponds to the two vectors in the ImagePatientOrientation field in DICOM.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="units" type="xs:string" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;This stores the units used for all
								numeric values in this dimension element. In MRI data, this should
								be 'mm' for all spatial dimensions ('x', 'y', 'z') and 'ms' for the
								temporal dimension 't'.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="measurementframe" minOccurs="0"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation xml:lang="en"&gt;The mapping (if any) between the values expressed in &amp;lt;datapoints&amp;gt; and the coordinate system used by this datarec. For example, in DTI data, this is useful for mapping gradient direction vectors to the RAS coordinate space used in the &amp;lt;direction&amp;gt; vectors.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
						&lt;xs:complexType&gt;
							&lt;xs:sequence&gt;
								&lt;xs:element name="vector" type="listoffloats_t" minOccurs="0" maxOccurs="unbounded"/&gt;
							&lt;/xs:sequence&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="frag_uri_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;The external data pointed to by this uri is a "fragment", where a	"fragment" is defined as a stream of data contiguously stored in the same file offset by 'offset' bytes and of 'size' bytes.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:anyURI"&gt;
				&lt;xs:attribute name="offset" type="xs:unsignedLong"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;The data for this fragment will start at this byte position in the resource specified by the 'uri' element. If this attribute does not exist or is empty, it is assumed to be zero.&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
				&lt;xs:attribute name="size" type="xs:unsignedLong"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;This specifies the size of this block (in bytes) in the
							resource specified by the 'uri' element. If this attribute does not
							exist or is empty, it is calculated using the dimension and elementtype
							element.&lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:simpleType name="listoffloats_t"&gt;
		&lt;xs:list itemType="xs:float"/&gt;
	&lt;/xs:simpleType&gt;
	&lt;xs:complexType name="format_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;Container for describing imaging formats and file name extensions
				(currently underimplemented)&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="description" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="documentationList" minOccurs="0"&gt;
				&lt;xs:complexType&gt;
					&lt;xs:sequence&gt;
						&lt;xs:element name="documentation" type="informationResource_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;/xs:sequence&gt;
				&lt;/xs:complexType&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="extensionList" minOccurs="0"&gt;
				&lt;xs:complexType&gt;
					&lt;xs:sequence&gt;
						&lt;xs:element name="extension" type="xs:string" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;/xs:sequence&gt;
				&lt;/xs:complexType&gt;
			&lt;/xs:element&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="name"/&gt;
	&lt;/xs:complexType&gt;
	&lt;!--*********            Provenance types            *********--&gt;
	&lt;xs:complexType name="processStep_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="program" type="versionedProgramEntity_t" minOccurs="0"/&gt;
			&lt;xs:element name="programArguments" type="argumentsType_t" minOccurs="0"/&gt;
			&lt;xs:element name="timeStamp" type="xs:dateTime" minOccurs="0"/&gt;
			&lt;xs:element name="user" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="hostName" type="xs:dateTime" minOccurs="0"/&gt;
			&lt;xs:element name="architecture" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="platform" type="versionedEntity_t" minOccurs="0"/&gt;
			&lt;xs:element name="cvs" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="compiler" type="versionedEntity_t" minOccurs="0"/&gt;
			&lt;xs:element name="library" type="versionedEntity_t" minOccurs="0" maxOccurs="unbounded"/&gt;
			&lt;xs:element name="buildTimeStamp" type="xs:dateTime" minOccurs="0"/&gt;
			&lt;xs:element name="package" type="versionedEntity_t" minOccurs="0"/&gt;
			&lt;xs:element name="repository" type="xs:string" minOccurs="0"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
		&lt;xs:attribute name="parent" type="xs:string"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="provenance_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="processStep" type="processStep_t" maxOccurs="unbounded"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="argumentsType_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;input and output arguments of the processing tool&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="inputs" type="xs:string"/&gt;
				&lt;xs:attribute name="outputs" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="versionedEntity_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="version" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="versionedProgramEntity_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;version and build type of the processing tool&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="version" type="xs:string"/&gt;
				&lt;xs:attribute name="build" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;!--*********            Event types            *********--&gt;
	&lt;xs:complexType name="events_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_data_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="params" type="eventParams_t" minOccurs="0"/&gt;
					&lt;xs:element name="event" type="event_t" minOccurs="0" maxOccurs="unbounded"/&gt;
					&lt;xs:element name="description" type="xs:string" minOccurs="0"/&gt;
					&lt;xs:element name="annotation" type="textAnnotation_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="event_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;This element represents an interval of time, with arbitrary metadata
				(in the value element).&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="onset" type="xs:float" minOccurs="0"/&gt;
			&lt;xs:element name="duration" type="xs:float" minOccurs="0"/&gt;
			&lt;xs:element name="value" type="eventValue_t" minOccurs="0" maxOccurs="unbounded"/&gt;
			&lt;xs:element name="annotation" type="textAnnotation_t" minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="type" type="xs:string" use="optional"/&gt;
		&lt;xs:attribute name="units" type="xs:string" use="optional"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;This attribute is optional, but an group using this schema should
					agree on, use, and enforce measurement units consistently, to avoid the need for
					unit conversion in an application.&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="name" type="xs:string" use="optional"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="eventValue_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;User-specified metadata associated with an event.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="name" type="xs:string"/&gt;
				&lt;xs:anyAttribute processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="eventParams_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;These value elements apply to all events in the parent event
			list.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="value" type="eventValue_t" minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;/xs:sequence&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="abstract_tagged_entity_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="metaFields" minOccurs="0"&gt;
				&lt;xs:complexType&gt;
					&lt;xs:sequence minOccurs="0"&gt;
						&lt;xs:element name="metaField" minOccurs="0" maxOccurs="unbounded"&gt;
							&lt;xs:complexType&gt;
								&lt;xs:simpleContent&gt;
									&lt;xs:extension base="xs:string"&gt;
										&lt;xs:attribute name="name" type="xs:string"/&gt;
									&lt;/xs:extension&gt;
								&lt;/xs:simpleContent&gt;
							&lt;/xs:complexType&gt;
						&lt;/xs:element&gt;
					&lt;/xs:sequence&gt;
				&lt;/xs:complexType&gt;
			&lt;/xs:element&gt;
		&lt;/xs:sequence&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:annotation&gt;
		&lt;xs:documentation&gt;*********            Protocol types            *********&lt;/xs:documentation&gt;
	&lt;/xs:annotation&gt;
	&lt;xs:complexType name="protocolItem_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="itemText" minOccurs="0"&gt;
				&lt;xs:complexType&gt;
					&lt;xs:sequence&gt;
						&lt;xs:element name="textLabel" minOccurs="0" maxOccurs="unbounded"&gt;
							&lt;xs:complexType&gt;
								&lt;xs:attribute name="location" use="required"/&gt;
								&lt;xs:attribute name="value" type="xs:string" use="required"/&gt;
							&lt;/xs:complexType&gt;
						&lt;/xs:element&gt;
					&lt;/xs:sequence&gt;
				&lt;/xs:complexType&gt;
			&lt;/xs:element&gt;
			&lt;xs:choice&gt;
				&lt;xs:element name="itemRange" type="protocolItemRange_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;xs:element name="itemChoice" minOccurs="0" maxOccurs="unbounded"&gt;
					&lt;xs:complexType&gt;
						&lt;xs:attribute name="itemCode" type="xs:string"/&gt;
						&lt;xs:attribute name="itemValue" type="xs:string"/&gt;
						&lt;xs:attribute name="ID" type="xs:string"/&gt;
						&lt;xs:attribute name="units" type="xs:string"/&gt;
					&lt;/xs:complexType&gt;
				&lt;/xs:element&gt;
			&lt;/xs:choice&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="name" type="xs:string"/&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
		&lt;xs:attribute name="required" type="xs:boolean"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="protocolOffset_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="protocolTimeRef" type="unitString_t" minOccurs="0"/&gt;
			&lt;xs:element name="preferedTimeOffset" type="unitString_t" minOccurs="0"/&gt;
			&lt;xs:element name="minTimeOffset" type="unitString_t" minOccurs="0"/&gt;
			&lt;xs:element name="maxTimeOffset" type="unitString_t" minOccurs="0"/&gt;
		&lt;/xs:sequence&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="protocolItemChoice_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="value" type="xs:string" maxOccurs="unbounded"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="units" type="xs:string"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="protocolItemRange_t"&gt;
		&lt;xs:attribute name="min" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Minimum value for item (inclusive)&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="max" type="xs:string"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Maximum value for item (inclusive)&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="units" type="xs:string"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:annotation&gt;
		&lt;xs:documentation&gt;*********            Assessment types            *********&lt;/xs:documentation&gt;
	&lt;/xs:annotation&gt;
	&lt;xs:complexType name="assessmentInfo_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_info_t"/&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="assessment_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_data_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="name" type="xs:string"/&gt;
					&lt;xs:element name="dataInstance" minOccurs="0" maxOccurs="unbounded"&gt;
						&lt;xs:complexType&gt;
							&lt;xs:sequence&gt;
								&lt;xs:element name="assessmentInfo" type="assessmentInfo_t" minOccurs="0"&gt;
									&lt;xs:annotation&gt;
										&lt;xs:documentation&gt;Block for describing things like
											informant, clinical rater, assessment date,
										etc&lt;/xs:documentation&gt;
									&lt;/xs:annotation&gt;
								&lt;/xs:element&gt;
								&lt;xs:element name="assessmentItem" type="assessmentItem_t" minOccurs="0" maxOccurs="unbounded"/&gt;
							&lt;/xs:sequence&gt;
							&lt;xs:attribute name="validated" type="xs:boolean"&gt;
								&lt;xs:annotation&gt;
									&lt;xs:documentation&gt;Indicates whether the instance has been
										validated (e.g. by reconciling double-entry instances).
										There should be only one validated instance per
									assessment.&lt;/xs:documentation&gt;
								&lt;/xs:annotation&gt;
							&lt;/xs:attribute&gt;
						&lt;/xs:complexType&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="annotation" type="textAnnotation_t" minOccurs="0" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="assessmentDescItem_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="protocolItem_t"&gt;
				&lt;xs:attribute name="version" type="xs:string"/&gt;
				&lt;xs:attribute name="formRef" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="assessmentItem_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="valueStatus" type="xs:string" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Information on the status of a value (e.g. subject refused to
						answer)&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="value" type="value_t"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Actual value of the assessment item as recorded on the
					form&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="normValue" type="value_t" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Normalized or scaled value of the assessment
					item&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="reconciliationNote" type="textAnnotation_t" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Normalized or scaled value of the assessment
					item&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="annotation" type="textAnnotation_t" minOccurs="0"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attributeGroup ref="terminology_ag"/&gt;
		&lt;xs:attribute name="ID"/&gt;
		&lt;xs:attribute name="name"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:annotation&gt;
		&lt;xs:documentation&gt;*********            Analysis types            *********&lt;/xs:documentation&gt;
	&lt;/xs:annotation&gt;
	&lt;xs:complexType name="analysisRef_t"&gt;
		&lt;xs:attributeGroup ref="levelRef_ag"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="measurementGroup_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;A measurementGroup contains information and data related to the outcome of an analysis.  For example, this could be a statistic (e.g. from a Statistical Parametric Map) or a measurement (e.g. the volume of the hippocmapus).&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_container_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="entity" type="abstract_entity_t" maxOccurs="unbounded"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;In the context of a measurement Group, is the entity being measured.  For example, the hippocampus. &lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
					&lt;xs:element name="observation" type="observation_t" maxOccurs="unbounded"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;In the context of a measurement Group, are the observations that are made concerning the entity.  For example, following hte hippocmapus example, might be the total volume, surface area, etc.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:annotation&gt;
		&lt;xs:documentation&gt;*********            Terminology types            *********&lt;/xs:documentation&gt;
	&lt;/xs:annotation&gt;
	&lt;xs:attributeGroup name="terminology_ag"&gt;
		&lt;xs:attribute name="preferredLabel" type="xs:string" use="required"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The preferred label of this term. This can be different than the term used by the applications (e.g. CBLM versus cerebellum)&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="abbreviation" type="xs:string" use="optional"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The preferred abbreviation for the term&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="nomenclature" type="xs:string" use="required"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;The source ontology of this terminology/ontology term&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="termID" type="xs:string" use="required"&gt;
			&lt;xs:annotation&gt;
				&lt;xs:documentation&gt;Applications will likely want to constrain what are valid IDs
					within the context of their application (for example, allowing only
				LSID's)&lt;/xs:documentation&gt;
			&lt;/xs:annotation&gt;
		&lt;/xs:attribute&gt;
		&lt;xs:attribute name="termPath" type="xs:string" use="optional"/&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:complexType name="terminologyString_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;A simple representation of terms for use within the schema.&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attributeGroup ref="terminology_ag"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="nsTermAnnotation_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_annotation_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="ontologyClass" type="xs:string" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="nsOntologyAnnotation_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_annotation_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="term" type="xs:string" maxOccurs="unbounded"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="nomenclature_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="abbreviation" type="xs:string"/&gt;
				&lt;xs:attribute name="nomenclature" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="atlasEntity_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;entity elements are used to describe the resultant scope of an analysis&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_entity_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="geometry" type="abstract_geometry_t"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;Atlas entity defined through the use of GML base geometries.&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="abstract_geometry_t" abstract="true"/&gt;
	&lt;xs:complexType name="anatomicalEntity_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;Entity elements are used to describe the resultant scope of an analysis&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_entity_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="label" type="terminologyString_t" minOccurs="0" maxOccurs="unbounded"&gt;
						&lt;xs:annotation&gt;
							&lt;xs:documentation&gt;The set of terms that name this entity.  This set can contain a collection of synonymous terms&lt;/xs:documentation&gt;
						&lt;/xs:annotation&gt;
					&lt;/xs:element&gt;
				&lt;/xs:sequence&gt;
				&lt;xs:attribute name="laterality" type="laterality_t" use="optional"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;Laterality of region (or none) &lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
				&lt;xs:attribute name="tissueType" type="tissueType_t" use="optional"&gt;
					&lt;xs:annotation&gt;
						&lt;xs:documentation&gt;Tissue type of region (or none) &lt;/xs:documentation&gt;
					&lt;/xs:annotation&gt;
				&lt;/xs:attribute&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:annotation&gt;
		&lt;xs:documentation&gt;*********            Misc. types            *********&lt;/xs:documentation&gt;
	&lt;/xs:annotation&gt;
	&lt;xs:complexType name="nameValue_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="name" type="xs:string"/&gt;
				&lt;xs:anyAttribute processContents="lax"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="metadataList_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="value" type="nameValue_t" minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;/xs:sequence&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="ref_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="ID" type="xs:string"/&gt;
				&lt;xs:attribute name="URI" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="authoredText_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attributeGroup ref="authoredText_ag"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:attributeGroup name="authoredText_ag"&gt;
		&lt;xs:attribute name="author" type="xs:string"/&gt;
		&lt;xs:attribute name="timestamp" type="xs:dateTime"/&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:complexType name="abstract_annotation_t" abstract="true"&gt;
		&lt;xs:attributeGroup ref="authoredText_ag"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="textAnnotation_t"&gt;
		&lt;xs:complexContent&gt;
			&lt;xs:extension base="abstract_annotation_t"&gt;
				&lt;xs:sequence&gt;
					&lt;xs:element name="text" type="xs:string" minOccurs="0"/&gt;
				&lt;/xs:sequence&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:complexContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="generator_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="application" type="versionedEntity_t"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Program used to generate document&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="invocation" type="xs:string"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Application input required to generate this document. Should be explicit such that this document can be re-generated from this info&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="dataSource" type="xs:string" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Description of data source with version numbers and/or	timestamp of data&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
		&lt;/xs:sequence&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="person_t"&gt;
		&lt;xs:annotation&gt;
			&lt;xs:documentation&gt;Add additional fields (address, email, etc)&lt;/xs:documentation&gt;
		&lt;/xs:annotation&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="salutation" type="xs:string" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;e.g. Dr., Mr., Mrs.&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="givenName" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="middleName" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="surname" type="xs:string" minOccurs="0"&gt;
				&lt;xs:annotation&gt;
					&lt;xs:documentation&gt;Used for last name or only name (e.g.
					Prince)&lt;/xs:documentation&gt;
				&lt;/xs:annotation&gt;
			&lt;/xs:element&gt;
			&lt;xs:element name="academicTitles" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="institution" type="xs:string" minOccurs="0"/&gt;
			&lt;xs:element name="department" type="xs:string" minOccurs="0"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
		&lt;xs:attribute name="role" type="xs:string"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:simpleType name="levelDescriptor_t"&gt;
		&lt;xs:restriction base="xs:string"&gt;
			&lt;xs:enumeration value="project"/&gt;
			&lt;xs:enumeration value="subject"/&gt;
			&lt;xs:enumeration value="visit"/&gt;
			&lt;xs:enumeration value="study"/&gt;
			&lt;xs:enumeration value="episode"/&gt;
			&lt;xs:enumeration value="acquisition"/&gt;
		&lt;/xs:restriction&gt;
	&lt;/xs:simpleType&gt;
	&lt;xs:attributeGroup name="ID_name_description"&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
		&lt;xs:attribute name="name" type="xs:string"/&gt;
		&lt;xs:attribute name="description" type="xs:string"/&gt;
	&lt;/xs:attributeGroup&gt;
	&lt;xs:complexType name="unitString_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="units" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="revision_t"&gt;
		&lt;xs:sequence&gt;
			&lt;xs:element name="timestamp" type="xs:dateTime" minOccurs="0"/&gt;
			&lt;xs:element name="generator" type="generator_t" minOccurs="0"/&gt;
			&lt;xs:element name="annotation" type="textAnnotation_t" minOccurs="0"/&gt;
		&lt;/xs:sequence&gt;
		&lt;xs:attribute name="ID" type="xs:string"/&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="orderedString_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="order" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:complexType name="value_t"&gt;
		&lt;xs:simpleContent&gt;
			&lt;xs:extension base="xs:string"&gt;
				&lt;xs:attribute name="units" type="xs:string"/&gt;
			&lt;/xs:extension&gt;
		&lt;/xs:simpleContent&gt;
	&lt;/xs:complexType&gt;
	&lt;xs:simpleType name="valueTypes_t"&gt;
		&lt;xs:restriction base="xs:string"&gt;
			&lt;xs:enumeration value="float"/&gt;
			&lt;xs:enumeration value="boolean"/&gt;
			&lt;xs:enumeration value="varchar"/&gt;
			&lt;xs:enumeration value="integer"/&gt;
			&lt;xs:enumeration value="URI"/&gt;
		&lt;/xs:restriction&gt;
	&lt;/xs:simpleType&gt;
	&lt;xs:simpleType name="laterality_t"&gt;
		&lt;xs:restriction base="xs:string"/&gt;
	&lt;/xs:simpleType&gt;
	&lt;xs:simpleType name="tissueType_t"&gt;
		&lt;xs:restriction base="xs:string"/&gt;
	&lt;/xs:simpleType&gt;
&lt;/xs:schema&gt;
</pre></div><div class="bibliography"><div class="titlepage"><div><div><h2 class="title"><a name="id2760883"></a>Bibliography</h2></div></div></div><div class="biblioentry"><a name="id2760885"></a><p>[<abbr class="abbrev">BIRN</abbr>] <span class="title"><i>Biomedical Informatics Research Network</i>. </span><span class="releaseinfo">URL:&lt;<code class="literal"><a class="ulink" href="http://www.nbirn.net/" target="_top">http://www.nbirn.net/</a></code>&gt;. </span></p></div><div class="biblioentry"><a name="id2760905"></a><p>[<abbr class="abbrev">CostelloSchemaVersioning</abbr>] <span class="title"><i>Impact of XML Schema Versioning on System Design</i>. </span><span class="releaseinfo">URL:&lt;<code class="literal"><a class="ulink" href="http://www.xfront.com/SchemaVersioning.html" target="_top">http://www.xfront.com/SchemaVersioning.html</a></code>&gt;. </span></p></div><div class="biblioentry"><a name="id2760925"></a><p>[<abbr class="abbrev">Schematron</abbr>] <span class="author"><span class="firstname">Rick</span> <span class="surname">Jelliffe</span>. </span><span class="releaseinfo">URL:&lt;<code class="literal"><a class="ulink" href="http://www.schematron.com/" target="_top">http://www.schematron.com/</a></code>&gt;.  ISO specification for Schematron available as ISO/IEC 19757-3:2006. </span></p></div><div class="biblioentry"><a name="id2760950"></a><p>[<abbr class="abbrev">XML10</abbr>] <span class="title"><i>Extensible Markup Language (XML) 1.0 (Fourth Edition)</i>. </span><span class="authorgroup"><span class="firstname">Tim</span> <span class="surname">Bray</span>, <span class="firstname">Jean</span> <span class="surname">Paoli</span>, <span class="firstname">C.</span> <span class="othername">M.</span> <span class="surname">Sperberg-McQueen</span>, <span class="firstname">Eve</span> <span class="surname">Maler</span>, and <span class="firstname">François</span> <span class="surname">Yergeau</span>. </span><span class="publisher"><span class="publishername">W3C. </span></span><span class="releaseinfo">URL:&lt;<code class="literal"><a class="ulink" href="http://www.w3.org/TR/xml/" target="_top">http://www.w3.org/TR/xml/</a></code>&gt;. </span></p></div><div class="biblioentry"><a name="id2761033"></a><p>[<abbr class="abbrev">XMLSchema10</abbr>] <span class="title"><i>XML Schema 1.0</i>. </span><span class="authorgroup"><span class="firstname">Henry</span> <span class="othername">S.</span> <span class="surname">Thompson</span>, <span class="firstname">David</span> <span class="surname">Beech</span>, <span class="firstname">Murray</span> <span class="surname">Maloney</span>, and <span class="firstname">Noah</span> <span class="surname">Mendelsohn</span>. </span><span class="publisher"><span class="publishername">W3C. </span></span><span class="releaseinfo">Primer: &lt;<code class="literal"><a class="ulink" href="http://www.w3.org/TR/xmlschema-0/" target="_top">http://www.w3.org/TR/xmlschema-0/</a></code>&gt;, Structures: &lt;<code class="literal"><a class="ulink" href="http://www.w3.org/TR/xmlschema-1/" target="_top">http://www.w3.org/TR/xmlschema-1/</a></code>&gt;, Datatypes: &lt;<code class="literal"><a class="ulink" href="http://www.w3.org/TR/xmlschema-2/" target="_top">http://www.w3.org/TR/xmlschema-2/</a></code>&gt;. </span></p></div></div></div></body></html>
