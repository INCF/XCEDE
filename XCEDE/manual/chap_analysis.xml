<?xml version="1.0" encoding="UTF-8"?>
<chapter id="chapter.analysis">
  <title>Analysis</title>

  <para>The <type>analysis_t</type> type and its corresponding elements are used to document the collected output and/or results from an analysis or processing of data.</para>

  <section>
    <title>Overview</title>
    
    <para>An analysis is composed of the "inputs" (i.e. the files and parameters used in an analysis or processing of data), a list of the application(s) or method(s) used in the analysis, and the resultant data (i.e. values and output files):</para>
    <variablelist><title>Analysis Constituents</title>
      <varlistentry>
        <term><varname>provenance</varname></term>
        <listitem><para>The record of the origin and transformations applied to source data that produced this analysis.  More information on this element can be found in <xref linkend="chapter.provenance" />.</para></listitem>
      </varlistentry>
      
      <varlistentry>
        <term><varname>inputRef</varname></term>
        <listitem><para>References to the data file(s) that were used in the analysis.</para></listitem>
      </varlistentry>
      
      <varlistentry>
        <term><varname>outputRef</varname></term>
        <listitem><para>Reference to the data file(s) generated by the analysis.  Summary data or statistics may be generated from these files and noted inthe <literal>measurementGroup</literal> element.</para></listitem>
      </varlistentry>
      
      <varlistentry>
        <term><varname>measurementGroup</varname></term>
        <listitem><para>A <emphasis>measurement group</emphasis> contains information and data related to the outcome of an analysis.  For example, this could be a statistic (e.g. from a Statistical Parametric Map) or a measurement (e.g. the volume of the hippocmapus).</para></listitem>
      </varlistentry>
      
    </variablelist>
  </section>

  <section>
    <title>Measurement Group</title> 
    
    <para><literal>measurementGroup</literal> contains information and data related to the outcome of an analysis and is based on the <type>measurementGroup_t</type> type.  Extending <type>abstract_container_t</type>, this allows for the annotation and documentation of the measurements being described. The measurements being described by this element are described by two specific elements: </para>
    <variablelist><title>Measurement Group Constituents</title>
      <varlistentry>
        <term><varname>entity</varname></term>
        <listitem><para>In the context of a measurement group, this is the entity being measured.  For example, the hippocampus. In more complicated instances this could be an entity described by multiple entries, for example, in a region of interest analysis where multiple or multiple partial regions are involved.</para></listitem>
      </varlistentry>
      
      <varlistentry>
        <term><varname>observation</varname></term>
        <listitem><para>In the context of a measurement group, these are the observations that are made concerning the entity.  For example, following the hippocmapus example, this might store the total volume, surface area, etc.</para></listitem>
      </varlistentry>
      
    </variablelist>
    
    <para>The <varname>entity</varname> element is based on the <type>abstract_entity_t</type> type that allows for the definition of specific entity classes. Currently two such classes are defined:</para>
    <variablelist><title>Entity Classes</title>
      <varlistentry>
        <term><type>anatomicalEntity_t</type></term>
        <listitem><para>Defines an anatomical entity through a set of terms that name this entity.  This set can contain a collection of synonymous terms. In addition to the anatomical region itself a laterality and tissue type can be specified to narrow the focus (e.g. left hippocampal gray metter).</para></listitem>
      </varlistentry>
      
      <varlistentry>
        <term><type>atalsEntity_t</type></term>
        <listitem><para>Defines an atlas-based region through the definition of geometries.  These are defined using the <type>abstract_geometry_t</type> type.</para></listitem>
      </varlistentry>
    </variablelist>
  </section>
 
  <section>
    <title>Examples</title>
  </section>

  <section>
    <title>Reference</title>
    
    <figure id="analysis_t.ref_diagram ">
      <title><type>analysis_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/analysis_t.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/analysis_t.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
    <figure id="measurementGroup_t.ref_diagram ">
      <title><type>measurementGroup_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/measurementGroup_t.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/measurementGroup_t.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
    <figure id="atlasEntity_t.ref_diagram ">
      <title><type>atlasEntity_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/atlasEntity_t.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/atlasEntity_t.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
    <figure id="anatomicalEntity_t.ref_diagram ">
      <title><type>anatomicalEntity_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/anatomicalEntity_t.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/anatomicalEntity_t.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
    <figure id="provenance_t_analysis.ref_diagram ">
      <title><type>provenance_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/provenance_t_analysis.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/provenance_t_analysis.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
  </section>

</chapter>
