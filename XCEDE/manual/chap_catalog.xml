<?xml version="1.0" encoding="UTF-8"?>
<chapter>
  <title>Catalogs</title>

  <section>
    <title>Overview</title>

	<para>Catalogs in XCEDE 2 are containers of related resources, resource references, and data references.  They are recursive in that catalogs can contain a list of catalogs and catalog references.</para>

	<para>Catalogs are represented by the catalog_t complex type, derived from abstract_tagged_entity_t.  The catalog child element of the root XCEDE element is of type catalog_t.  The resources included in the catalog can be pointed to from by resource references in a number of places in XCEDE, including analysis_t and acquisition_t.</para>
  </section>
	
	<para>Catalogs are useful in a number of contexts.  A catalog could be created, for example, to represent all of the acquisition resources associated with an episode.  These catalogs could be contained within a parent catalog that represents each of the episodes in an MR study.  Catalogs could also be used to represent the various resources generated as part of an analysis or uploaded and tagged by users.</para>

	<para>A benefit of using catalogs, as opposed to linking resources directly in analysis and acquisition elements, is that the catalogs can be sent to client applications that choose not to support the full XCEDE specification.</para>

  <section>
    <title>Examples</title>
   <figure id="catalog.example_instance">
      <title>Catalog instance</title>
      <programlisting><![CDATA[<XCEDE>
	<catalog ID="ID0">
		<catalogList>
			<catalog ID="ID1">
				<entryList>
					<entry ID="ID2" name="lh.pial" description="pial surface of left hemisphere" format="FreeSurfer:surface-1" content="lh.pial" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/surf/lh.pial"/>
					<entry ID="ID3" name="brain" description="extracted brain mri" format="FreeSurfer:mgz-1" content="brain" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/brain.mgz"/>
					<entry ID="ID4" name="zstat8" description="8th zstatisic contrast" format="nifti:nii-1" content="zstat8" cachePath="" uri="file://c:/data/fBIRN-AHM2006/sirp-hp65-stc-to7-gam.feat/stats/zstat8.nii"/>
					<entry ID="ID5" name="aparc+aseg" description="parcellation and segmentation label map" format="FreeSurfer:mgz-1" content="aparc+aseg" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/aparc+aseg.mgz"/>
				</entryList>
			</catalog>
			<catalog ID="ID1">
				<entryList>
					<entry ID="ID2" name="lh.pial" description="pial surface of left hemisphere" format="FreeSurfer:surface-1" content="lh.pial" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/surf/lh.pial"/>
					<entry ID="ID3" name="brain" description="extracted brain mri" format="FreeSurfer:mgz-1" content="brain" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/brain.mgz"/>
					<entry ID="ID4" name="zstat8" description="8th zstatisic contrast" format="nifti:nii-1" content="zstat8" cachePath="" uri="file://c:/data/fBIRN-AHM2006/sirp-hp65-stc-to7-gam.feat/stats/zstat8.nii"/>
					<entry ID="ID5" name="aparc+aseg" description="parcellation and segmentation label map" format="FreeSurfer:mgz-1" content="aparc+aseg" cachePath="" uri="file://c:/data/fBIRN-AHM2006/fbph2-000648622547/mri/aparc+aseg.mgz"/>
				</entryList>
			</catalog>
		</catalogList>
	</catalog>
</XCEDE>
 ]]>  </section>

  <section>
    <title>Reference</title>

    <figure id="catalog.ref_diagram ">
      <title>catalog_t</title>
      <mediaobject>
        <imageobject><imagedata fileref="images/catalog_t.png" format="asvg" width="6in"/> </imageobject>
      </mediaobject>
    </figure>

  </section>

</chapter>
