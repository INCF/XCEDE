<?xml version="1.0" encoding="UTF-8"?>
<chapter id="chapter.annotation">
  <title>Comments and Annotations</title>

  <section>
    <title>Overview</title>
    
    <para>Annotations and comments critical in providing a well documented instance document. These annotations can be either human generated (e.g. notes taken by researcher during an fMRI 'study' that discuss the subject's demeanor during a scan 'segment') or generated by processing tools (e.g. when a software tool reads/modifies/generates a document).</para>
    
  </section>
  
  <section>
    <title>Examples</title>
    
    <para>The use of annotations (and comments) is embedded within the XCEDE schema itself.</para>
    
    <figure id="annotations.example_schema">
      <title>Annotation Schema Components</title>
      <programlisting><![CDATA[
	<xs:simpleType name="comment_t">
		<xs:restriction base="xs:string"> 
		</xs:restriction>
	</xs:simpleType> 
	
	<xs:attributeGroup name="authoredText_ag">
		<xs:attribute name="author" type="xs:string"/>
		<xs:attribute name="timestamp" type="xs:dateTime"/>
	</xs:attributeGroup>

	<xs:complexType name="abstract_annotation_t" abstract="true">
		<xs:attributeGroup ref="authoredText_ag"/>
	</xs:complexType>

	<xs:complexType name="textAnnotation_t">
		<xs:complexContent>
			<xs:extension base="abstract_annotation_t">
				<xs:sequence>
					<xs:element name="comment" type="comment_t" minOccurs="1" maxOccurs="1"/>
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>

 ]]></programlisting>
    </figure>
    
    <para>As an example of the use of annotations, in the context of a subject detailed above, the following example shows a quick example.</para>
    
    <figure id="annotation.example_instance">
      <title>Terminology String Instance</title>
      <programlisting><![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<XCEDE xmlns="http://www.xcede.org/xcede-2"
       <subject>
        <annotationList>
            <annotation author="Annotation Author">
                <comment>This is an example annotation</comment>
            </annotation>
        </annotationList>
    </subject>
</XCEDE>
 ]]></programlisting>
    </figure>
  </section>
  
  <section>
    <title>Reference</title>
    
    <figure id="comment_t.ref_diagram ">
      <title><type>comment_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/comment_t.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/comment_t.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
    <figure id="abstract_annotation_t.ref_diagram ">
      <title><type>abstract_annotation_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/abstract_annotation_t.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/abstract_annotation_t.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
    <figure id="textAnnotation_t.ref_diagram ">
      <title><type>abstract_annotation_t</type></title>
      <mediaobject>
        <imageobject role="fo"><imagedata fileref="images/textAnnotation_t.png" format="png" width="5.5in"/> </imageobject>
        <imageobject role="html"><imagedata fileref="images/textAnnotation_t.png" format="png"/> </imageobject>
      </mediaobject>
    </figure>
    
  </section>
  
</chapter>
